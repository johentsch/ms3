


<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Manual &#8212; ms3 0.4.11 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/cloud.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noticia+Text:400,i,b,bi|Open+Sans:400,i,b,bi|Roboto+Mono:400,i,b,bi&amp;display=swap" type="text/css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>

    
    
     
        <script src="_static/jquery.cookie.js"></script>
    

    
     
        <script src="_static/cloud.base.js"></script>
    

    
     
        <script src="_static/cloud.js"></script>
    

    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Developers’ Reference" href="reference.html" />
    <link rel="prev" title="Quick Reference" href="quick.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
  </head><body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="reference.html" title="Developers’ Reference"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="quick.html" title="Quick Reference"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="index.html">ms3 0.4.11 documentation</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Manual</a></li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="manual">
<h1>Manual<a class="headerlink" href="#manual" title="Permalink to this heading">¶</a></h1>
<figure class="align-default">
<img alt="The archicture of ms3" src="_images/ms3_architecture.png" />
</figure>
<p>This page is a detailed guide for using ms3 for different tasks. It supposes you are working in an interactive Python
interpreter such as IPython, Jupyter, Google Colab, or just the console.</p>
<section id="good-to-know">
<h2>Good to know<a class="headerlink" href="#good-to-know" title="Permalink to this heading">¶</a></h2>
<section id="corpus-structure">
<span id="id1"></span><h3>Corpus structure<a class="headerlink" href="#corpus-structure" title="Permalink to this heading">¶</a></h3>
<p>ms3 extracts various aspects (e.g. notes, chord labels, dynamics) from a single MuseScore file and stores them in
separate TSV files. In order to jointly evaluate this information (e.g. to combine harmony labels with the corresponding
notes in the score), ms3 associates files by their names. Therefore it is important to not rename files at a later
point and it is recommended to stick to one organizational principle for all corpora in use. The two main principles
are suffixes and subfolders.</p>
<p><a class="reference external" href="https://github.com/DCMLab/dcml_corpora">DCML corpora</a> use the same subfolder structure: MuseScore files are stored
in the <code class="docutils literal notranslate"><span class="pre">MS3</span></code> folder of a corpus and all other aspects are stored with identical filenames (but different extension)
in sibling folders. This structure results naturally when using default parameters such as
<code class="docutils literal notranslate"><span class="pre">ms3</span> <span class="pre">extract</span> <span class="pre">-N</span> <span class="pre">-M</span> <span class="pre">-X</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">corpus1</span>
<span class="go">├── harmonies</span>
<span class="go">├── measures</span>
<span class="go">├── MS3</span>
<span class="go">└── notes</span>
<span class="go">corpus2</span>
<span class="go">├── harmonies</span>
<span class="go">├── measures</span>
<span class="go">├── MS3</span>
<span class="go">└── notes</span>
</pre></div>
</div>
<p>When loading corpora, ms3 looks for the standard folder names (and suffixes) to indentify individual corpora and
assign them keys automatically (e.g. in the example above, ‘corpus1’ and ‘corpus2’).
Using the default names will therefore facilitate the use of the library considerably.</p>
</section>
<section id="keys-and-ids">
<span id="id2"></span><h3>Keys and IDs<a class="headerlink" href="#keys-and-ids" title="Permalink to this heading">¶</a></h3>
<p>ms3 uses keys for grouping files. The way how these keys are being used is transitioning in the 0.5.x versions:</p>
<ul class="simple">
<li><p><strong>&lt; 0.5</strong> keys were arbitrary and used by some methods to bring groups of files together. For example, <code class="docutils literal notranslate"><span class="pre">Parse.attach_labels()</span></code>
would take a key with a group of scores and, as the parameter <code class="docutils literal notranslate"><span class="pre">annotation_key</span></code>, the key with a group of annotations and
then use <code class="docutils literal notranslate"><span class="pre">Parse.match_files()</span></code> to match the files from the given keys.</p></li>
<li><p><strong>&gt;= 0.6.x</strong> keys are used to address sub-corpora that are assumed to have a particular <a class="reference internal" href="#corpus-structure"><span class="std std-ref">Corpus structure</span></a>.
The method <code class="docutils literal notranslate"><span class="pre">Parse.attach_labels()</span></code> then takes only one key and uses the key’s <a class="reference internal" href="reference.html#ms3.parse.View" title="ms3.parse.View"><code class="xref py py-class docutils literal notranslate"><span class="pre">View</span></code></a> object
for matching files. The parameter <code class="docutils literal notranslate"><span class="pre">annotation_key</span></code> is replaced by <code class="docutils literal notranslate"><span class="pre">use</span></code> that can be used in the case that the View
object has detected several annotation files for one or several pieces.</p></li>
<li><p><strong>0.5x</strong> transitioning from the old to the new behaviour.</p></li>
</ul>
<section id="ids">
<h4>IDs<a class="headerlink" href="#ids" title="Permalink to this heading">¶</a></h4>
<p>IDs are <code class="docutils literal notranslate"><span class="pre">(key,</span> <span class="pre">i)</span></code> pairs that identify one particular file (not piece) found by a Parse object. They are used as
dictionary keys except for storing the information on file paths such as <code class="xref py py-attr docutils literal notranslate"><span class="pre">full_paths</span></code> or
<code class="xref py py-attr docutils literal notranslate"><span class="pre">fnames</span></code> which are dictionaries containing lists where only keys are dictionary keys, whereas <code class="docutils literal notranslate"><span class="pre">i</span></code>
is simply the list index of the respective file.</p>
</section>
</section>
<section id="label-types">
<span id="id3"></span><h3>Label types<a class="headerlink" href="#label-types" title="Permalink to this heading">¶</a></h3>
<p>ms3 recognizes different types of labels, depending on how they are encoded in MuseScore:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>label_type</p></th>
<th class="head"><p>explanation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>Label encoded in MuseScore’s chord layer (Add-&gt;Text-&gt;Chord Symbol, or [C]+K) that does not start with a note name, i.e. MuseScore did
not recognize it as an absolute chord and encoded it as plain text (compare type 3).</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>Roman Numeral (Add-&gt;Text-&gt;Roman Numeral Analysis).</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>Nashville number (Add-&gt;Text-&gt;Nashville Number).</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>Label encoded in MuseScore’s chord layer (Add-&gt;Text-&gt;Chord Symbol, or [C]+K) that does start with a note name, i.e. MuseScore did
recognize it as an absolute chord and encoded its root (and bass note) as numerical values.</p></td>
</tr>
</tbody>
</table>
<p>Independent of the type, ms3 will also try to infer whether the label conforms to the DCML syntax, in which case the type
information will appear with a subtype, e.g. <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">(dcml)</span></code>. If instead or additionally you want other subtypes to be
recognized, specify the <a class="reference internal" href="reference.html#ms3.score.Score.infer_label_types" title="ms3.score.Score.infer_label_types"><code class="xref py py-attr docutils literal notranslate"><span class="pre">infer_label_types</span></code></a> attribute.</p>
</section>
<section id="measure-counts-mc-vs-measure-numbers-mn">
<span id="mc-vs-mn"></span><h3>Measure counts (MC) vs. measure numbers (MN)<a class="headerlink" href="#measure-counts-mc-vs-measure-numbers-mn" title="Permalink to this heading">¶</a></h3>
<p>Measure counts are strictly increasing numbers for all &lt;measure&gt; nodes in the score, regardless of their length. This
information is crucial for correctly addressing positions in a MuseScore file and are shown in the software’s status
bar. The first measure is always counted as 1 (following MuseScore’s convention), even if it is an anacrusis.</p>
<p>Measure numbers are the traditional way by which humans refer to positions in a score. They follow a couple of
conventions which can be summarised as counting complete bars. Quite often, a complete bar (MN) can be made up of
two &lt;measure&gt; nodes (MC). In the context of this library, score addressability needs to be maintained for humans and
computers, therefore a mapping MC -&gt; MN is preserved in the score information DataFrames.</p>
</section>
<section id="onset-positions">
<span id="onsets"></span><h3>Onset positions<a class="headerlink" href="#onset-positions" title="Permalink to this heading">¶</a></h3>
<p>Onsets express positions of events in a score as their distance from the beginning of the corresponding
<a class="reference internal" href="#mc-vs-mn"><span class="std std-ref">MC or MN</span></a>. The distances are expressed as fractions of a whole note. In other words, beat 1 has
onset <code class="docutils literal notranslate"><span class="pre">0</span></code>, an event on beat 2 of a 4/4 meter has onset <code class="docutils literal notranslate"><span class="pre">1/4</span></code> and so on.</p>
<p>Since there are two ways of referencing measures (MC and MN), there are also two ways of expressing onsets:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">mc_onset</span></code> expresses the distance from the corresponding MC</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mn_onset</span></code> expresses the distance from the corresponding MN</p></li>
</ul>
<p>In most cases, the two values value will be identical, but take as an example the case where a 4/4 measure with MN 8
is divided into MC 9 of length 3/4 and MC 10 of length 1/4 because of a repeat sign or a double bar line. Since MC 9
corresponds to the first part of MN 8, the two onset values are identical. But for the anacrusis on beat 4, the values
differ: <code class="docutils literal notranslate"><span class="pre">mc_onset</span></code> is <code class="docutils literal notranslate"><span class="pre">0</span></code> but <code class="docutils literal notranslate"><span class="pre">mn_onset</span></code> is <code class="docutils literal notranslate"><span class="pre">3/4</span></code> because this is the distance from MN 8.</p>
</section>
<section id="read-only-mode">
<span id="read-only"></span><h3>Read-only mode<a class="headerlink" href="#read-only-mode" title="Permalink to this heading">¶</a></h3>
<p>For parsing faster using less memory. Scores parsed in read-only mode cannot be changed because the original
XML structure is not kept in memory.</p>
</section>
<section id="stacks-of-fifths-intervals">
<span id="fifths"></span><h3>Stacks-of-fifths intervals<a class="headerlink" href="#stacks-of-fifths-intervals" title="Permalink to this heading">¶</a></h3>
<p>In order to express note names (tonal pitch classes, <a class="reference internal" href="#tpc"><span class="std std-ref">tpc</span></a>), and scale degrees, ms3 uses stacks of fifths (the only
way to express these as a single integer). For note names, <code class="docutils literal notranslate"><span class="pre">0</span></code> corresponds to C, for scale degrees to the local tonic.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>fifths</p></th>
<th class="head"><p>note name</p></th>
<th class="head"><p>interval</p></th>
<th class="head"><p>scale degree</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>-6</p></td>
<td><p>Gb</p></td>
<td><p>d5</p></td>
<td><p>b5</p></td>
</tr>
<tr class="row-odd"><td><p>-5</p></td>
<td><p>Db</p></td>
<td><p>m2</p></td>
<td><p>b2</p></td>
</tr>
<tr class="row-even"><td><p>-4</p></td>
<td><p>Ab</p></td>
<td><p>m6</p></td>
<td><p>b6 (6 in minor)</p></td>
</tr>
<tr class="row-odd"><td><p>-3</p></td>
<td><p>Eb</p></td>
<td><p>m3</p></td>
<td><p>b3 (3 in minor)</p></td>
</tr>
<tr class="row-even"><td><p>-2</p></td>
<td><p>Bb</p></td>
<td><p>m7</p></td>
<td><p>b7 (7 in minor)</p></td>
</tr>
<tr class="row-odd"><td><p>-1</p></td>
<td><p>F</p></td>
<td><p>P4</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>0</p></td>
<td><p>C</p></td>
<td><p>P1</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>G</p></td>
<td><p>P5</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>D</p></td>
<td><p>M2</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>A</p></td>
<td><p>M6</p></td>
<td><p>6 (#6 in minor)</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>E</p></td>
<td><p>M3</p></td>
<td><p>3 (#3 in minor)</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>B</p></td>
<td><p>M7</p></td>
<td><p>7 (#7 in minor)</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>F#</p></td>
<td><p>A4</p></td>
<td><p>#4</p></td>
</tr>
</tbody>
</table>
</section>
<section id="voltas">
<span id="id4"></span><h3>Voltas<a class="headerlink" href="#voltas" title="Permalink to this heading">¶</a></h3>
<p>“Prima/Seconda volta” is the Italian designation for “First/Second time”. Therefore, in the context of ms3, we refer
to ‘a volta’ as one of several endings. By convention, all endings should have the same measure numbers (MN), which are
often differentiated by lowercase letters, e.g. <code class="docutils literal notranslate"><span class="pre">8a</span></code> for the first ending and <code class="docutils literal notranslate"><span class="pre">8b</span></code> for the second ending. In
MuseScore, correct bar numbers can be achieved by excluding <code class="docutils literal notranslate"><span class="pre">8b</span></code> from the count or, if the endings have more than
one bar, by subtracting the corresponding number from the second ending’s count. For example, in order to achieve
the correct MNs <code class="docutils literal notranslate"><span class="pre">[7a</span> <span class="pre">8a][7b</span> <span class="pre">8b]</span></code>, you would add <code class="docutils literal notranslate"><span class="pre">-2</span></code> to 7b’s count which otherwise would come out as 9.</p>
<p>ms3 checks for incorrect MNs and warns you if the score needs correction. It will also ask you to make all voltas the
same length. If this is not possible for editorial reasons (although often the length of the second volta is arbitrary),
ignore the warning and check in the <a class="reference internal" href="#measures"><span class="std std-ref">measures</span></a> table if the MN are correct for your purposes.</p>
</section>
</section>
<section id="tables-with-score-information">
<span id="score-information"></span><h2>Tables with score information<a class="headerlink" href="#tables-with-score-information" title="Permalink to this heading">¶</a></h2>
<p>This section gives an overview of the various tables that ms3 exposes after parsing a MuseScore file. Their names, e.g.
<code class="docutils literal notranslate"><span class="pre">measures</span></code>, correspond to the properties of <a class="reference internal" href="reference.html#ms3.score.Score" title="ms3.score.Score"><code class="xref py py-class docutils literal notranslate"><span class="pre">Score</span></code></a> and the methods of <a class="reference internal" href="reference.html#ms3.parse.Parse" title="ms3.parse.Parse"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parse</span></code></a>
with which they can be retrieved. They come as <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.4.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> objects. The available tables are:</p>
<p>All score information, except the metadata, is contained in the following two tables:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#measures"><span class="std std-ref">measures</span></a>: A list of all measures contained in the score together with their respective features.</p></li>
<li><p><a class="reference internal" href="#notes"><span class="std std-ref">notes</span></a>: A list of all notes contained in the score together with their respective features.</p></li>
<li><p><a class="reference internal" href="#rests"><span class="std std-ref">rests</span></a>: A list of all rests contained in the score together with their respective features.</p></li>
<li><p><a class="reference internal" href="#notes-and-rests"><span class="std std-ref">notes_and_rests</span></a>: A combination of the two above.</p></li>
<li><p><a class="reference internal" href="#chords"><span class="std std-ref">chords</span></a>: <strong>Not to be confounded with labels or chord annotations</strong>, a chord is a notational unit in which all included
notes are part of the same notational layer and have the same onset and duration. Every chord has a <code class="docutils literal notranslate"><span class="pre">chord_id</span></code> and every note
is part of a chord. These tables are used to convey score information that is not attached to a particular note,
such as lyrics, staff text, dynamics and other markup.</p></li>
<li><p><a class="reference internal" href="#labels"><span class="std std-ref">labels</span></a>: The annotation labels contained in the score. The output can be controlled by changing
the <code class="docutils literal notranslate"><span class="pre">labels_cfg</span></code> configuration.</p></li>
<li><p><a class="reference internal" href="#expanded"><span class="std std-ref">expanded</span></a>: If the score contains <a class="reference external" href="https://github.com/DCMLab/standards">DCML harmony labels</a>,
return them after being split into the encoded features.</p></li>
<li><p><a class="reference internal" href="#cadences"><span class="std std-ref">cadences</span></a>: If DCML harmony labels include cadence labels, return only those (simply a filter on <code class="docutils literal notranslate"><span class="pre">expanded</span></code>).</p></li>
<li><p><a class="reference internal" href="#events"><span class="std std-ref">events</span></a>: A raw version of the score where the XML tags of all events have been transformed to column
names. Cumbersome to work with and only needed in special cases.</p></li>
</ul>
<p>For each of the available tables you will see an example and you can click on the columns to learn about their meanings.</p>
<section id="measures">
<span id="id5"></span><h3>Measures<a class="headerlink" href="#measures" title="Permalink to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">mscx</span><span class="o">.</span><span class="n">measures</span>   <span class="c1"># access through a Score object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">measures</span><span class="p">()</span>      <span class="c1"># access through a Parse object</span>
</pre></div>
</div>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><a class="reference internal" href="#mc"><span class="std std-ref">mc</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#mn"><span class="std std-ref">mn</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#keysig"><span class="std std-ref">keysig</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#timesig"><span class="std std-ref">timesig</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#act-dur"><span class="std std-ref">act_dur</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#mc-offset"><span class="std std-ref">mc_offset</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#volta"><span class="std std-ref">volta</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#numbering-offset"><span class="std std-ref">numbering_offset</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#dont-count"><span class="std std-ref">dont_count</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#barline"><span class="std std-ref">barline</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#breaks"><span class="std std-ref">breaks</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#repeats"><span class="std std-ref">repeats</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#next"><span class="std std-ref">next</span></a></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>-4</p></td>
<td><p>4/4</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>NaN</p></td>
<td><p>NaN</p></td>
<td><p>firstMeasure</p></td>
<td><p>(2,)</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>2</p></td>
<td><p>-4</p></td>
<td><p>4/4</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>NaN</p></td>
<td><p>NaN</p></td>
<td><p>nan</p></td>
<td><p>(3,)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="notes">
<span id="id6"></span><h3>Notes<a class="headerlink" href="#notes" title="Permalink to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">mscx</span><span class="o">.</span><span class="n">notes</span>   <span class="c1"># access through a Score object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">notes</span><span class="p">()</span>      <span class="c1"># access through a Parse object</span>
</pre></div>
</div>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><a class="reference internal" href="#mc"><span class="std std-ref">mc</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#mn"><span class="std std-ref">mn</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#mc-onset"><span class="std std-ref">mc_onset</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#mn-onset"><span class="std std-ref">mn_onset</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#timesig"><span class="std std-ref">timesig</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#staff"><span class="std std-ref">staff</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#voice"><span class="std std-ref">voice</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#duration"><span class="std std-ref">duration</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#gracenote"><span class="std std-ref">gracenote</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#nominal-duration"><span class="std std-ref">nominal_duration</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#scalar"><span class="std std-ref">scalar</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#tied"><span class="std std-ref">tied</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#tpc"><span class="std std-ref">tpc</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#midi"><span class="std std-ref">midi</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#volta"><span class="std std-ref">volta</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#chord-id"><span class="std std-ref">chord_id</span></a></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>4/4</p></td>
<td><p>4</p></td>
<td><p>2</p></td>
<td><p>1/8</p></td>
<td><p>NaN</p></td>
<td><p>1/8</p></td>
<td><p>1</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>-1</p></td>
<td><p>53</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>4/4</p></td>
<td><p>3</p></td>
<td><p>2</p></td>
<td><p>3/4</p></td>
<td><p>NaN</p></td>
<td><p>1/2</p></td>
<td><p>3/2</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>-1</p></td>
<td><p>77</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rests">
<span id="id7"></span><h3>Rests<a class="headerlink" href="#rests" title="Permalink to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">mscx</span><span class="o">.</span><span class="n">rests</span>   <span class="c1"># access through a Score object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">rests</span><span class="p">()</span>      <span class="c1"># access through a Parse object</span>
</pre></div>
</div>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><a class="reference internal" href="#mc"><span class="std std-ref">mc</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#mn"><span class="std std-ref">mn</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#mc-onset"><span class="std std-ref">mc_onset</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#mn-onset"><span class="std std-ref">mn_onset</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#timesig"><span class="std std-ref">timesig</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#staff"><span class="std std-ref">staff</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#voice"><span class="std std-ref">voice</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#duration"><span class="std std-ref">duration</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#nominal-duration"><span class="std std-ref">nominal_duration</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#scalar"><span class="std std-ref">scalar</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#volta"><span class="std std-ref">volta</span></a></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>4/4</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>&lt;NA&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>4/4</p></td>
<td><p>2</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>&lt;NA&gt;</p></td>
</tr>
</tbody>
</table>
</section>
<section id="notes-and-rests">
<span id="id8"></span><h3>Notes and Rests<a class="headerlink" href="#notes-and-rests" title="Permalink to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">mscx</span><span class="o">.</span><span class="n">notes_and_rests</span>   <span class="c1"># access through a Score object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">notes_and_rests</span><span class="p">()</span>      <span class="c1"># access through a Parse object</span>
</pre></div>
</div>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><a class="reference internal" href="#mc"><span class="std std-ref">mc</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#mn"><span class="std std-ref">mn</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#mc-onset"><span class="std std-ref">mc_onset</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#mn-onset"><span class="std std-ref">mn_onset</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#timesig"><span class="std std-ref">timesig</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#staff"><span class="std std-ref">staff</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#voice"><span class="std std-ref">voice</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#duration"><span class="std std-ref">duration</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#gracenote"><span class="std std-ref">gracenote</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#nominal-duration"><span class="std std-ref">nominal_duration</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#scalar"><span class="std std-ref">scalar</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#tied"><span class="std std-ref">tied</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#tpc"><span class="std std-ref">tpc</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#midi"><span class="std std-ref">midi</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#volta"><span class="std std-ref">volta</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#chord-id"><span class="std std-ref">chord_id</span></a></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>4/4</p></td>
<td><p>4</p></td>
<td><p>2</p></td>
<td><p>1/8</p></td>
<td><p>NaN</p></td>
<td><p>1/8</p></td>
<td><p>1</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>-1</p></td>
<td><p>53</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>4/4</p></td>
<td><p>3</p></td>
<td><p>2</p></td>
<td><p>3/4</p></td>
<td><p>NaN</p></td>
<td><p>1/2</p></td>
<td><p>3/2</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>-1</p></td>
<td><p>77</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>4/4</p></td>
<td><p>3</p></td>
<td><p>1</p></td>
<td><p>1/2</p></td>
<td><p>NaN</p></td>
<td><p>1/2</p></td>
<td><p>1</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>4/4</p></td>
<td><p>4</p></td>
<td><p>1</p></td>
<td><p>1/2</p></td>
<td><p>NaN</p></td>
<td><p>1/2</p></td>
<td><p>1</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
</tr>
</tbody>
</table>
</section>
<section id="chords">
<span id="id9"></span><h3>Chords<a class="headerlink" href="#chords" title="Permalink to this heading">¶</a></h3>
<p>In a MuseScore file, every note is enclosed by a &lt;Chord&gt; tag. One &lt;Chord&gt; tag can enclose several notes, as long
as they occur in the same <a class="reference internal" href="#staff"><span class="std std-ref">staff</span></a> and <a class="reference internal" href="#voice"><span class="std std-ref">voice</span></a> (notational layer). As a consequence, notes
belonging to the same &lt;Chord&gt; have the same onset and the same duration.</p>
<p><strong>Why chord lists?</strong> Most of the markup (such as articulation, lyrics etc.) in a MuseScore file is attached
not to individual notes but instead to &lt;Chord&gt; tags. It might be a matter of interpretation to what notes exactly
the symbols pertain, which is why it is left for the interested user to link the chord list with the corresponding
note list by joining on the <a class="reference internal" href="#chord-id"><span class="std std-ref">chord_id</span></a> column of each.</p>
<p>The output of the analogous commands depends on what markup is available in the score (<a class="reference internal" href="#chords-dynamic"><span class="std std-ref">see below</span></a>).
The columns that are always present in a chord list are exactly the same as (and correspond to) those of a
<a class="reference internal" href="#notes"><span class="std std-ref">note list</span></a> except for <a class="reference internal" href="#tied"><span class="std std-ref">tied</span></a>, <a class="reference internal" href="#tpc"><span class="std std-ref">tpc</span></a>, and <a class="reference internal" href="#midi"><span class="std std-ref">midi</span></a>.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><a class="reference internal" href="#mc"><span class="std std-ref">mc</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#mn"><span class="std std-ref">mn</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#mc-onset"><span class="std std-ref">mc_onset</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#mn-onset"><span class="std std-ref">mn_onset</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#timesig"><span class="std std-ref">timesig</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#staff"><span class="std std-ref">staff</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#voice"><span class="std std-ref">voice</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#duration"><span class="std std-ref">duration</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#gracenote"><span class="std std-ref">gracenote</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#nominal-duration"><span class="std std-ref">nominal_duration</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#scalar"><span class="std std-ref">scalar</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#volta"><span class="std std-ref">volta</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#chord-id"><span class="std std-ref">chord_id</span></a></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1/2</p></td>
<td><p>1/2</p></td>
<td><p>4/4</p></td>
<td><p>3</p></td>
<td><p>1</p></td>
<td><p>1/2</p></td>
<td><p>NaN</p></td>
<td><p>1/2</p></td>
<td><p>1</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>4/4</p></td>
<td><p>3</p></td>
<td><p>2</p></td>
<td><p>3/4</p></td>
<td><p>NaN</p></td>
<td><p>1/2</p></td>
<td><p>3/2</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
<p>Such a reduced table can be retrieved using <a class="reference internal" href="reference.html#ms3.bs4_parser._MSCX_bs4.get_chords" title="ms3.bs4_parser._MSCX_bs4.get_chords"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Score.mscx.parsed.get_chords(mode='strict')</span></code></a></p>
<p id="chords-dynamic">Leaving the standard columns aside, the normal interface for accessing chord lists calls
<a class="reference internal" href="reference.html#ms3.bs4_parser._MSCX_bs4.get_chords" title="ms3.bs4_parser._MSCX_bs4.get_chords"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Score.mscx.parsed.get_chords(mode='auto')</span></code></a> meaning that only columns
are included that have at least one non empty value. The following table shows the first two non-empty values
for each column when parsing all scores included in the <a class="reference external" href="https://github.com/johentsch/ms3">ms3 repository</a>
for demonstration purposes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">mscx</span><span class="o">.</span><span class="n">chords</span>   <span class="c1"># access through a Score object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">chords</span><span class="p">()</span>      <span class="c1"># access through a Parse object</span>
</pre></div>
</div>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><a class="reference internal" href="#lyrics-1"><span class="std std-ref">lyrics:1</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#dynamics"><span class="std std-ref">dynamics</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#articulation"><span class="std std-ref">articulation</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#staff-text"><span class="std std-ref">staff_text</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#tempo"><span class="std std-ref">tempo</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#qpm"><span class="std std-ref">qpm</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#slur"><span class="std std-ref">slur</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#hairpins"><span class="std std-ref">decrescendo_hairpin</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#cresc-lines"><span class="std std-ref">diminuendo_line</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#hairpins"><span class="std std-ref">crescendo_hairpin</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#cresc-lines"><span class="std std-ref">crescendo_line</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#ottava"><span class="std std-ref">Ottava:15mb</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#ottava"><span class="std std-ref">Ottava:8va</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#pedal"><span class="std std-ref">pedal</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#system-text"><span class="std std-ref">system_text</span></a></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>Grave</p></td>
<td><p>45</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>0</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
</tr>
<tr class="row-even"><td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>0</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;NA&gt;</p></td>
<td><p>p</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
</tr>
<tr class="row-even"><td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>articStaccatoBelow</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>2</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>articStaccatoBelow</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>2</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
</tr>
<tr class="row-even"><td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>simile</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>espr.</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
</tr>
<tr class="row-even"><td><p>&lt;NA&gt;</p></td>
<td><p>other-dynamics</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>0</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
</tr>
<tr class="row-even"><td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>0, 1</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>0</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
</tr>
<tr class="row-even"><td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>0</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>Sta</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
</tr>
<tr class="row-even"><td><p>bat</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>Andante amoroso</p></td>
<td><p>55</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
</tr>
<tr class="row-even"><td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>0</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>0</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
</tr>
<tr class="row-even"><td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>0</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>0</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
</tr>
<tr class="row-even"><td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>0</p></td>
<td><p>&lt;NA&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>0</p></td>
<td><p>&lt;NA&gt;</p></td>
</tr>
<tr class="row-even"><td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>0</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>0</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
</tr>
<tr class="row-even"><td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>0</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>0</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
</tr>
<tr class="row-even"><td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>Swing</p></td>
</tr>
</tbody>
</table>
</section>
<section id="labels">
<span id="id10"></span><h3>Labels<a class="headerlink" href="#labels" title="Permalink to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">mscx</span><span class="o">.</span><span class="n">labels</span>   <span class="c1"># access through a Score object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">labels</span><span class="p">()</span>      <span class="c1"># access through a Parse object</span>
</pre></div>
</div>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><a class="reference internal" href="#mc"><span class="std std-ref">mc</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#mn"><span class="std std-ref">mn</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#mc-onset"><span class="std std-ref">mc_onset</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#mn-onset"><span class="std std-ref">mn_onset</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#timesig"><span class="std std-ref">timesig</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#staff"><span class="std std-ref">staff</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#voice"><span class="std std-ref">voice</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#volta"><span class="std std-ref">volta</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#label"><span class="std std-ref">label</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#label-type"><span class="std std-ref">label_type</span></a></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>4/4</p></td>
<td><p>3</p></td>
<td><p>2</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>.f.i</p></td>
<td><p>0 (dcml)</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1/4</p></td>
<td><p>1/4</p></td>
<td><p>4/4</p></td>
<td><p>3</p></td>
<td><p>2</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>i6</p></td>
<td><p>0 (dcml)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="expanded">
<span id="id11"></span><h3>Expanded<a class="headerlink" href="#expanded" title="Permalink to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">mscx</span><span class="o">.</span><span class="n">expanded</span>   <span class="c1"># access through a Score object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">expanded</span><span class="p">()</span>      <span class="c1"># access through a Parse object</span>
</pre></div>
</div>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><a class="reference internal" href="#mc"><span class="std std-ref">mc</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#mn"><span class="std std-ref">mn</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#mc-onset"><span class="std std-ref">mc_onset</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#mn-onset"><span class="std std-ref">mn_onset</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#timesig"><span class="std std-ref">timesig</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#staff"><span class="std std-ref">staff</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#voice"><span class="std std-ref">voice</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#volta"><span class="std std-ref">volta</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#label"><span class="std std-ref">label</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#globalkey"><span class="std std-ref">globalkey</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#localkey"><span class="std std-ref">localkey</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#pedal"><span class="std std-ref">pedal</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#chord"><span class="std std-ref">chord</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#numeral"><span class="std std-ref">numeral</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#form"><span class="std std-ref">form</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#figbass"><span class="std std-ref">figbass</span></a></p></th>
<th class="head"><p><a class="reference internal" href="changelog.html#changes"><span class="std std-ref">changes</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#relativeroot"><span class="std std-ref">relativeroot</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#cadence"><span class="std std-ref">cadence</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#phraseend"><span class="std std-ref">phraseend</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#chord-type"><span class="std std-ref">chord_type</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#globalkey-is-minor"><span class="std std-ref">globalkey_is_minor</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#localkey-is-minor"><span class="std std-ref">localkey_is_minor</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#chord-tones"><span class="std std-ref">chord_tones</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#chord-tones"><span class="std std-ref">added_tones</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#root"><span class="std std-ref">root</span></a></p></th>
<th class="head"><p><a class="reference internal" href="#bass-note"><span class="std std-ref">bass_note</span></a></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>4/4</p></td>
<td><p>3</p></td>
<td><p>2</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>.f.i</p></td>
<td><p>f</p></td>
<td><p>i</p></td>
<td><p>NaN</p></td>
<td><p>i</p></td>
<td><p>i</p></td>
<td><p>NaN</p></td>
<td><p>NaN</p></td>
<td><p>NaN</p></td>
<td><p>NaN</p></td>
<td><p>NaN</p></td>
<td><p>NaN</p></td>
<td><p>m</p></td>
<td><p>True</p></td>
<td><p>True</p></td>
<td><p>(0, -3, 1)</p></td>
<td><p>()</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1/4</p></td>
<td><p>1/4</p></td>
<td><p>4/4</p></td>
<td><p>3</p></td>
<td><p>2</p></td>
<td><p>&lt;NA&gt;</p></td>
<td><p>i6</p></td>
<td><p>f</p></td>
<td><p>i</p></td>
<td><p>NaN</p></td>
<td><p>i6</p></td>
<td><p>i</p></td>
<td><p>NaN</p></td>
<td><p>6</p></td>
<td><p>NaN</p></td>
<td><p>NaN</p></td>
<td><p>NaN</p></td>
<td><p>NaN</p></td>
<td><p>m</p></td>
<td><p>True</p></td>
<td><p>True</p></td>
<td><p>(-3, 1, 0)</p></td>
<td><p>()</p></td>
<td><p>0</p></td>
<td><p>-3</p></td>
</tr>
</tbody>
</table>
</section>
<section id="cadences">
<span id="id12"></span><h3>Cadences<a class="headerlink" href="#cadences" title="Permalink to this heading">¶</a></h3>
<p>This table is simply a filter on <a class="reference internal" href="#expanded"><span class="std std-ref">expanded</span></a>. The table has the same columns and contains only rows
that include a cadence label. Just for convenience…</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">mscx</span><span class="o">.</span><span class="n">cadences</span>   <span class="c1"># access through a Score object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">cadences</span><span class="p">()</span>      <span class="c1"># access through a Parse object</span>
</pre></div>
</div>
</section>
<section id="events">
<span id="id13"></span><h3>Events<a class="headerlink" href="#events" title="Permalink to this heading">¶</a></h3>
<p>This table is the original tabular representation of the MuseScore file’s source code from which all other tables,
except <code class="docutils literal notranslate"><span class="pre">measures</span></code> are generated. The nested XML tags are transformed into column names.</p>
<p>The value <code class="docutils literal notranslate"><span class="pre">'∅'</span></code> is used for empty tags. For example, in the column <code class="docutils literal notranslate"><span class="pre">Chord/Spanner/Slur</span></code> it would correspond to
the tag structure (formatting as in an MSCX file):</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;Chord&gt;</span>
  <span class="nt">&lt;Spanner</span> <span class="na">type=</span><span class="s">&quot;Slur&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Slur&gt;</span>
      <span class="nt">&lt;/Slur&gt;</span>
    <span class="nt">&lt;/Spanner&gt;</span>
  <span class="nt">&lt;/Chord&gt;</span>
</pre></div>
</div>
<p>The value <code class="docutils literal notranslate"><span class="pre">'/'</span></code> on the other hand represents a shortcut empty tag. For example, in the column <code class="docutils literal notranslate"><span class="pre">Chord/grace16</span></code>
it would correspond to the tag structure (formatting as in an MSCX file):</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;Chord&gt;</span>
  <span class="nt">&lt;grace16/&gt;</span>
  <span class="nt">&lt;/Chord&gt;</span>
</pre></div>
</div>
</section>
</section>
<section id="parsing">
<h2>Parsing<a class="headerlink" href="#parsing" title="Permalink to this heading">¶</a></h2>
<p>This chapter explains how to</p>
<ul class="simple">
<li><p>parse a single score to access and manipulate the contained information using a <a class="reference internal" href="reference.html#ms3.score.Score" title="ms3.score.Score"><code class="xref py py-class docutils literal notranslate"><span class="pre">Score</span></code></a> object</p></li>
<li><p>parse a group of scores to access and manipulate the contained information using a <a class="reference internal" href="reference.html#ms3.parse.Parse" title="ms3.parse.Parse"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parse</span></code></a> object.</p></li>
</ul>
<section id="parsing-a-single-score">
<h3>Parsing a single score<a class="headerlink" href="#parsing-a-single-score" title="Permalink to this heading">¶</a></h3>
<ol class="arabic bignums">
<li><p>Import the library.</p>
<blockquote>
<div><p>To parse a single score, we will use the class <a class="reference internal" href="reference.html#ms3.score.Score" title="ms3.score.Score"><code class="xref py py-class docutils literal notranslate"><span class="pre">Score</span></code></a>. We could import the whole library:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ms3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">ms3</span><span class="o">.</span><span class="n">Score</span><span class="p">()</span>
</pre></div>
</div>
<p>or simply import the class:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ms3</span> <span class="kn">import</span> <span class="n">Score</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">Score</span><span class="p">()</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Locate the <a class="reference external" href="https://musescore.org/en/download">MuseScore 3</a> score you want to parse.</p>
<blockquote>
<div><div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>MSCZ files are ZIP files containing the uncompressed MSCX. In order to trace the score’s version history,
it is recommended to always work with MSCX files.</p>
</div>
<p>In the examples, we parse the annotated first page of Giovanni
Battista Pergolesi’s influential <em>Stabat Mater</em>. The file is called <code class="docutils literal notranslate"><span class="pre">stabat.mscx</span></code> and can be downloaded from
<a class="reference external" href="https://raw.githubusercontent.com/johentsch/ms3/master/docs/stabat.mscx">here</a> (open link and key <code class="docutils literal notranslate"><span class="pre">Ctrl</span> <span class="pre">+</span> <span class="pre">S</span></code> to save the file
or right-click on the link to <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">link</span> <span class="pre">as...</span></code>).</p>
</div></blockquote>
</li>
<li><p>Create a <a class="reference internal" href="reference.html#ms3.score.Score" title="ms3.score.Score"><code class="xref py py-class docutils literal notranslate"><span class="pre">Score</span></code></a> object.</p>
<blockquote>
<div><p>In the example, the MuseScore 3 file is located at <code class="docutils literal notranslate"><span class="pre">~/ms3/docs/stabat.mscx</span></code> so we can simply create the object
and bind it to the variable <code class="docutils literal notranslate"><span class="pre">s</span></code> like so:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ms3</span> <span class="kn">import</span> <span class="n">Score</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">Score</span><span class="p">(</span><span class="s1">&#39;~/ms3/docs/stabat.mscx&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Inspect the object.</p>
<blockquote>
<div><p>To have a look at the created object we can simply evoke its variable:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span>
<span class="go">MuseScore file</span>
<span class="go">--------------</span>

<span class="go">~/ms3/docs/stabat.mscx</span>

<span class="go">Attached annotations</span>
<span class="go">--------------------</span>

<span class="go">48 labels:</span>
<span class="go">staff  voice  label_type  color_name</span>
<span class="go">3      2      0 (dcml)    default       48</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">Score.</span></span><span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">musescore_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infer_label_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['dcml']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels_cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger_cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parser</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'bs4'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#Score.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>musescore_file</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Path to the MuseScore file to be parsed.</p></li>
<li><p><strong>infer_label_types</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – Determine which label types are determined automatically. Defaults to [‘dcml’].
Pass <code class="docutils literal notranslate"><span class="pre">[]</span></code> to infer only main types 0 - 3.
Pass <code class="docutils literal notranslate"><span class="pre">{'type_name':</span> <span class="pre">r&quot;^(regular)(Expression)$&quot;}</span></code> to call <code class="xref py py-meth docutils literal notranslate"><span class="pre">ms3.Score.new_type()</span></code>.</p></li>
<li><p><strong>read_only</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>, meaning that the parsing is slower and uses more memory in order to allow for manipulations
of the score, such as adding and deleting labels. Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> if you’re only extracting information.</p></li>
<li><p><strong>labels_cfg</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>) – Store a configuration dictionary to determine the output format of the <a class="reference internal" href="reference.html#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a>
object representing the currently attached annotations. See <a class="reference internal" href="reference.html#ms3.score.MSCX.labels_cfg" title="ms3.score.MSCX.labels_cfg"><code class="xref py py-attr docutils literal notranslate"><span class="pre">MSCX.labels_cfg</span></code></a>.</p></li>
<li><p><strong>logger_cfg</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – The following options are available:
‘name’: LOGGER_NAME -&gt; by default the logger name is based on the parsed file(s)
‘level’: {‘W’, ‘D’, ‘I’, ‘E’, ‘C’, ‘WARNING’, ‘DEBUG’, ‘INFO’, ‘ERROR’, ‘CRITICAL’}
‘file’: PATH_TO_LOGFILE to store all log messages under the given path.</p></li>
<li><p><strong>parser</strong> (<em>'bs4'</em><em>, </em><em>optional</em>) – The only XML parser currently implemented is BeautifulSoup 4.</p></li>
<li><p><strong>ms</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – If you want to parse musicXML files or MuseScore 2 files by temporarily converting them, pass the path or command
of your local MuseScore 3 installation. If you’re using the standard path, you may try ‘auto’, or ‘win’ for
Windows, ‘mac’ for MacOS, or ‘mscore’ for Linux.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="parsing-multiple-scores">
<h3>Parsing multiple scores<a class="headerlink" href="#parsing-multiple-scores" title="Permalink to this heading">¶</a></h3>
<ol class="arabic bignums">
<li><p>Import the library.</p>
<blockquote>
<div><p>To parse multiple scores, we will use the class <a class="reference internal" href="reference.html#ms3.parse.Parse" title="ms3.parse.Parse"><code class="xref py py-class docutils literal notranslate"><span class="pre">ms3.Parse</span></code></a>. We could import the whole library:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ms3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">ms3</span><span class="o">.</span><span class="n">Parse</span><span class="p">()</span>
</pre></div>
</div>
<p>or simply import the class:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ms3</span> <span class="kn">import</span> <span class="n">Parse</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">Parse</span><span class="p">()</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Locate the folder containing MuseScore files.</p>
<blockquote>
<div><p>In this example, we are going to parse all files included in the <a class="reference external" href="https://github.com/johentsch/ms3">ms3 repository</a> which has been
<a class="reference external" href="https://www.atlassian.com/git/tutorials/setting-up-a-repository/git-clone">cloned</a>
into the home directory and therefore has the path <code class="docutils literal notranslate"><span class="pre">~/ms3</span></code>.</p>
</div></blockquote>
</li>
<li><p>Create a <a class="reference internal" href="reference.html#ms3.parse.Parse" title="ms3.parse.Parse"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parse</span></code></a> object</p>
<blockquote>
<div><p>The object is created by calling it with the directory to scan, and bound to the typical variable <code class="docutils literal notranslate"><span class="pre">p</span></code>.
ms3 scans the subdirectories for corpora (see <a class="reference internal" href="#corpus-structure"><span class="std std-ref">Corpus structure</span></a>) and assigns keys automatically based on
folder names (here ‘docs’, and ‘tests’):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ms3</span> <span class="kn">import</span> <span class="n">Parse</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">Parse</span><span class="p">(</span><span class="s1">&#39;~/ms3&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>73 files.
KEY   -&gt; EXTENSIONS
-------------------
tests -&gt; {&#39;.tsv&#39;: 63, &#39;.mscx&#39;: 10}

None of the 10 score files have been parsed.
</pre></div>
</div>
<p>Without any further parameters, ms3 detects only file types that it can potentially parse, i.e. MSCX, MSCZ, and TSV.
In the following example, we infer the location of our local MuseScore 3 installation (if ‘auto’ fails,
indicate the path to your executable). As a result, ms3 also shows formats that MuseScore can convert, such as
XML, MIDI, or CAP.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ms3</span> <span class="kn">import</span> <span class="n">Parse</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">Parse</span><span class="p">(</span><span class="s1">&#39;~/ms3&#39;</span><span class="p">,</span> <span class="n">ms</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>74 files.
KEY       -&gt; EXTENSIONS
-----------------------
old_tests -&gt; {&#39;.xml&#39;: 1}
tests     -&gt; {&#39;.tsv&#39;: 63, &#39;.mscx&#39;: 10}

None of the 11 score files have been parsed.

MuseScore 3 executable has been found.
</pre></div>
</div>
<p>By default, present TSV files are detected and can be parsed as well, allowing one to access already extracted
information without parsing the scores anew. In order to select only particular files, a regular expression
can be passed to the parameter <code class="docutils literal notranslate"><span class="pre">file_re</span></code>. In the following example, only files ending on <code class="docutils literal notranslate"><span class="pre">mscx</span></code> are collected
in the object (<code class="docutils literal notranslate"><span class="pre">$</span></code> stands for the end of the filename, without it, files including the string ‘mscx’ anywhere
in their names would be selected, too):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ms3</span> <span class="kn">import</span> <span class="n">Parse</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">Parse</span><span class="p">(</span><span class="s1">&#39;~/ms3&#39;</span><span class="p">,</span> <span class="n">file_re</span><span class="o">=</span><span class="s1">&#39;mscx$&#39;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;ms3&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>14 files.
KEY -&gt; EXTENSIONS
-----------------
ms3 -&gt; {&#39;.mscx&#39;: 14}

None of the 14 score files have been parsed.
</pre></div>
</div>
<p>In this example, we assigned the key <code class="docutils literal notranslate"><span class="pre">'ms3'</span></code>. Note that the same MSCX files that were distributed over several keys
in the previous example are now grouped together. Keys allow operations to be performed on a particular group of
selected files. For example, we could add MSCX files from another folder using the method
<a class="reference internal" href="reference.html#ms3.parse.Parse.add_dir" title="ms3.parse.Parse.add_dir"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_dir()</span></code></a> and the key <code class="docutils literal notranslate"><span class="pre">'other'</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">add_dir</span><span class="p">(</span><span class="s1">&#39;~/other_folder&#39;</span><span class="p">,</span> <span class="n">file_re</span><span class="o">=</span><span class="s1">&#39;mscx$&#39;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;other&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>72 files.
KEY   -&gt; EXTENSIONS
-------------------
ms3   -&gt; {&#39;.mscx&#39;: 14}
other -&gt; {&#39;.mscx&#39;: 58}

None of the 72 score files have been parsed.
</pre></div>
</div>
<p>Most methods of the <a class="reference internal" href="reference.html#ms3.parse.Parse" title="ms3.parse.Parse"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parse</span></code></a> object have a <code class="docutils literal notranslate"><span class="pre">keys</span></code> parameter to perform an operation on a particular group of files.</p>
</div></blockquote>
</li>
<li><p>Parse the scores.</p>
<blockquote>
<div><p>In order to simply parse all registered MuseScore files, call the method <a class="reference internal" href="reference.html#ms3.parse.Parse.parse_mscx" title="ms3.parse.Parse.parse_mscx"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parse_mscx()</span></code></a>.
Instead, you can pass the argument <code class="docutils literal notranslate"><span class="pre">keys</span></code> to parse only one (or several)
selected group(s) to save time. The argument <code class="docutils literal notranslate"><span class="pre">level</span></code> controls how many
log messages you see; here, it is set to ‘critical’ or ‘c’ to suppress all
warnings:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">parse_mscx</span><span class="p">(</span><span class="n">keys</span><span class="o">=</span><span class="s1">&#39;ms3&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>INFO     ms3.Parse -- parse.py (line 1828) parse_mscx():
	All 14 files have been parsed successfully.
72 files.
KEY   -&gt; EXTENSIONS
-------------------
ms3   -&gt; {&#39;.mscx&#39;: 14}
other -&gt; {&#39;.mscx&#39;: 58}

14/72 MSCX files have been parsed.

8 of them have annotations attached.
KEY -&gt; ANNOTATION LAYERS
------------------------
ms3 -&gt; staff  voice  label_type          color             
    -&gt; 2      1      0 (dcml)            default               167
    -&gt; 3      1      0 (dcml)            default                63
    -&gt;        2      0 (dcml)            default                48
    -&gt; 1      1      0 (Plain Text)      default                 7
    -&gt;               3 (Absolute Chord)  default               166
    -&gt;               0 (dcml)            default               568
    -&gt; 3      1      0 (dcml)            blue                    1
    -&gt;                                   cyan                    1
    -&gt;                                   lime                    1
    -&gt;                                   magenta                 1
    -&gt;                                   ms3_aquamarine          1
    -&gt;                                   ms3_blue                1
    -&gt;                                   ms3_chartreuse          1
    -&gt;                                   ms3_cornflowerblue      1
    -&gt;                                   ms3_darkcyan            1
    -&gt;                                   ms3_darkgoldenrod       1
    -&gt;                                   ms3_darkgray            1
    -&gt;                                   ms3_darkmagenta         1
    -&gt;                                   ms3_darkolivegreen      1
    -&gt;                                   ms3_darkslateblue       1
    -&gt;                                   ms3_darkviolet          1
    -&gt;                                   ms3_deeppink            1
    -&gt;                                   ms3_deepskyblue         1
    -&gt;                                   ms3_dodgerblue          1
    -&gt;                                   ms3_green               1
    -&gt;                                   ms3_indianred           1
    -&gt;                                   ms3_indigo              1
    -&gt;                                   ms3_khaki               1
    -&gt;                                   ms3_lawngreen           1
    -&gt;                                   ms3_lightcoral          1
    -&gt;                                   ms3_lightgreen          1
    -&gt;                                   ms3_lightpink           1
    -&gt;                                   ms3_lightsalmon         1
    -&gt;                                   ms3_lightsteelblue      1
    -&gt;                                   ms3_maroon              1
    -&gt;                                   ms3_mediumorchid        1
    -&gt;                                   ms3_mediumseagreen      1
    -&gt;                                   ms3_navy                1
    -&gt;                                   ms3_olive               1
    -&gt;                                   ms3_orange              1
    -&gt;                                   ms3_orangered           1
    -&gt;                                   ms3_palegreen           1
    -&gt;                                   ms3_paleturquoise       1
    -&gt;                                   ms3_royalblue           1
    -&gt;                                   ms3_sienna              1
    -&gt;                                   ms3_teal                1
    -&gt;                                   ms3_violet              1
    -&gt;                                   red                     1
    -&gt;                                   springgreen             1
    -&gt;                                   white                   1
    -&gt;                                   yellow                  1
    -&gt;               2 (Roman Numeral)   ms3_darkred             1
    -&gt;               3 (Absolute Chord)  ms3_darkred             1
    -&gt;               3 (dcml)            ms3_darkgreen           1
</pre></div>
</div>
<p>As we can see, only the files with the key ‘ms3’ were parsed and the
table shows an overview of the counts of the included label types in the
different notational layers (i.e. staff &amp; voice), grouped by their colours.</p>
</div></blockquote>
</li>
</ol>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">Parse.</span></span><span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">paths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_re</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder_re</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.*'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_re</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels_cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger_cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> (<em>optional</em>) – Arguments for the method <code class="xref py py-meth docutils literal notranslate"><span class="pre">add_dir()</span></code>.
If <code class="docutils literal notranslate"><span class="pre">dir</span></code> is not passed, no files are added to the new object except if you pass <code class="docutils literal notranslate"><span class="pre">paths</span></code></p></li>
<li><p><strong>key</strong> (<em>optional</em>) – Arguments for the method <code class="xref py py-meth docutils literal notranslate"><span class="pre">add_dir()</span></code>.
If <code class="docutils literal notranslate"><span class="pre">dir</span></code> is not passed, no files are added to the new object except if you pass <code class="docutils literal notranslate"><span class="pre">paths</span></code></p></li>
<li><p><strong>index</strong> (<em>optional</em>) – Arguments for the method <code class="xref py py-meth docutils literal notranslate"><span class="pre">add_dir()</span></code>.
If <code class="docutils literal notranslate"><span class="pre">dir</span></code> is not passed, no files are added to the new object except if you pass <code class="docutils literal notranslate"><span class="pre">paths</span></code></p></li>
<li><p><strong>file_re</strong> (<em>optional</em>) – Arguments for the method <code class="xref py py-meth docutils literal notranslate"><span class="pre">add_dir()</span></code>.
If <code class="docutils literal notranslate"><span class="pre">dir</span></code> is not passed, no files are added to the new object except if you pass <code class="docutils literal notranslate"><span class="pre">paths</span></code></p></li>
<li><p><strong>folder_re</strong> (<em>optional</em>) – Arguments for the method <code class="xref py py-meth docutils literal notranslate"><span class="pre">add_dir()</span></code>.
If <code class="docutils literal notranslate"><span class="pre">dir</span></code> is not passed, no files are added to the new object except if you pass <code class="docutils literal notranslate"><span class="pre">paths</span></code></p></li>
<li><p><strong>exclude_re</strong> (<em>optional</em>) – Arguments for the method <code class="xref py py-meth docutils literal notranslate"><span class="pre">add_dir()</span></code>.
If <code class="docutils literal notranslate"><span class="pre">dir</span></code> is not passed, no files are added to the new object except if you pass <code class="docutils literal notranslate"><span class="pre">paths</span></code></p></li>
<li><p><strong>recursive</strong> (<em>optional</em>) – Arguments for the method <code class="xref py py-meth docutils literal notranslate"><span class="pre">add_dir()</span></code>.
If <code class="docutils literal notranslate"><span class="pre">dir</span></code> is not passed, no files are added to the new object except if you pass <code class="docutils literal notranslate"><span class="pre">paths</span></code></p></li>
<li><p><strong>paths</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – List of file paths you want to add. If <code class="docutils literal notranslate"><span class="pre">directory</span></code> is also passed, all files will be combined in the same object.</p></li>
<li><p><strong>simulate</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if no parsing is actually to be done.</p></li>
<li><p><strong>logger_cfg</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – <div class="line-block">
<div class="line">The following options are available:</div>
<div class="line">’name’: LOGGER_NAME -&gt; by default the logger name is based on the parsed file(s)</div>
<div class="line">’level’: {‘W’, ‘D’, ‘I’, ‘E’, ‘C’, ‘WARNING’, ‘DEBUG’, ‘INFO’, ‘ERROR’, ‘CRITICAL’}</div>
<div class="line">’path’: Directory in which log files are stored. If ‘file’ is relative, this path is used as root, otherwise, it is ignored.</div>
<div class="line">’file’: PATH_TO_LOGFILE Pass absolute path to store all log messages in a single log file.
If PATH_TO_LOGFILE is relative, multiple log files are created dynamically, relative to the original MSCX files’ paths.
If ‘path’ is set, the corresponding subdirectory structure is created there.</div>
</div>
</p></li>
<li><p><strong>ms</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – If you pass the path to your local MuseScore 3 installation, ms3 will attempt to parse musicXML, MuseScore 2,
and other formats by temporarily converting them. If you’re using the standard path, you may try ‘auto’, or ‘win’ for
Windows, ‘mac’ for MacOS, or ‘mscore’ for Linux. In case you do not pass the ‘file_re’ and the MuseScore executable is
detected, all convertible files are automatically selected, otherwise only those that can be parsed without conversion.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
</section>
<section id="extracting-score-information">
<h2>Extracting score information<a class="headerlink" href="#extracting-score-information" title="Permalink to this heading">¶</a></h2>
<p>One of ms3’s main functionalities is storing the information contained in parsed scores as tabular files (TSV format).
More information on the generated files is summarized <a class="reference internal" href="quick.html#tabular-info"><span class="std std-ref">here</span></a></p>
<section id="using-the-commandline">
<h3>Using the commandline<a class="headerlink" href="#using-the-commandline" title="Permalink to this heading">¶</a></h3>
<p>The most convenient way to achieve this is the command <code class="docutils literal notranslate"><span class="pre">ms3</span> <span class="pre">extract</span></code> and its capital-letter parameters summarize
the available tables:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">-M [folder], --measures [folder]</span>
<span class="go">                      Folder where to store TSV files with measure information needed for tasks such as unfolding repetitions.</span>
<span class="go">-N [folder], --notes [folder]</span>
<span class="go">                      Folder where to store TSV files with information on all notes.</span>
<span class="go">-R [folder], --rests [folder]</span>
<span class="go">                      Folder where to store TSV files with information on all rests.</span>
<span class="go">-L [folder], --labels [folder]</span>
<span class="go">                      Folder where to store TSV files with information on all annotation labels.</span>
<span class="go">-X [folder], --expanded [folder]</span>
<span class="go">                      Folder where to store TSV files with expanded DCML labels.</span>
<span class="go">-E [folder], --events [folder]</span>
<span class="go">                      Folder where to store TSV files with all events (notes, rests, articulation, etc.) without further processing.</span>
<span class="go">-C [folder], --chords [folder]</span>
<span class="go">                      Folder where to store TSV files with &lt;chord&gt; tags, i.e. groups of notes in the same voice with identical onset and duration. The tables include lyrics, slurs, and other markup.</span>
<span class="go">-D [path], --metadata [path]</span>
<span class="go">                      Directory or full path for storing one TSV file with metadata. If no filename is included in the path, it is called metadata.tsv</span>
</pre></div>
</div>
<p>The typical way to use this command for a corpus of scores is to keep the MuseScore files in a subfolder (called,
for example, <code class="docutils literal notranslate"><span class="pre">MS3</span></code>) and to use the parameters’ default values, effectively creating additional subfolders for each
extracted aspect next to each folder containing MuseScore files. For example if we take the folder structure of
the <a class="reference external" href="https://github.com/johentsch/ms3">ms3 repository</a>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ms3</span>
<span class="go">├── docs</span>
<span class="go">│   ├── cujus.mscx</span>
<span class="go">│   ├── o_quam.mscx</span>
<span class="go">│   ├── quae.mscx</span>
<span class="go">│   └── stabat.mscx</span>
<span class="go">└── tests</span>
<span class="go">    ├── MS3</span>
<span class="go">    │   ├── 05_symph_fant.mscx</span>
<span class="go">    │   ├── 76CASM34A33UM.mscx</span>
<span class="go">    │   ├── BWV_0815.mscx</span>
<span class="go">    │   ├── D973deutscher01.mscx</span>
<span class="go">    │   ├── Did03M-Son_regina-1762-Sarti.mscx</span>
<span class="go">    │   ├── K281-3.mscx</span>
<span class="go">    │   └── stabat_03_coloured.mscx</span>
<span class="go">    └── repeat_dummies</span>
<span class="go">        ├── repeats0.mscx</span>
<span class="go">        ├── repeats1.mscx</span>
<span class="go">        └── repeats2.mscx</span>
</pre></div>
</div>
<p>Upon calling <code class="docutils literal notranslate"><span class="pre">ms3</span> <span class="pre">extract</span> <span class="pre">-N</span></code>, two new <code class="docutils literal notranslate"><span class="pre">notes</span></code> folders containing note lists are created:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ms3</span>
<span class="go">├── docs</span>
<span class="go">│   ├── cujus.mscx</span>
<span class="go">│   ├── o_quam.mscx</span>
<span class="go">│   ├── quae.mscx</span>
<span class="go">│   └── stabat.mscx</span>
<span class="go">├── notes</span>
<span class="go">│   ├── cujus.tsv</span>
<span class="go">│   ├── o_quam.tsv</span>
<span class="go">│   ├── quae.tsv</span>
<span class="go">│   └── stabat.tsv</span>
<span class="go">└── tests</span>
<span class="go">    ├── MS3</span>
<span class="go">    │   ├── 05_symph_fant.mscx</span>
<span class="go">    │   ├── 76CASM34A33UM.mscx</span>
<span class="go">    │   ├── BWV_0815.mscx</span>
<span class="go">    │   ├── D973deutscher01.mscx</span>
<span class="go">    │   ├── Did03M-Son_regina-1762-Sarti.mscx</span>
<span class="go">    │   ├── K281-3.mscx</span>
<span class="go">    │   └── stabat_03_coloured.mscx</span>
<span class="go">    ├── notes</span>
<span class="go">    │   ├── 05_symph_fant.tsv</span>
<span class="go">    │   ├── 76CASM34A33UM.tsv</span>
<span class="go">    │   ├── BWV_0815.tsv</span>
<span class="go">    │   ├── D973deutscher01.tsv</span>
<span class="go">    │   ├── Did03M-Son_regina-1762-Sarti.tsv</span>
<span class="go">    │   ├── K281-3.tsv</span>
<span class="go">    │   ├── repeats0.tsv</span>
<span class="go">    │   ├── repeats1.tsv</span>
<span class="go">    │   ├── repeats2.tsv</span>
<span class="go">    │   └── stabat_03_coloured.tsv</span>
<span class="go">    └── repeat_dummies</span>
<span class="go">        ├── repeats0.mscx</span>
<span class="go">        ├── repeats1.mscx</span>
<span class="go">        └── repeats2.mscx</span>
</pre></div>
</div>
<p>We witness this behaviour because the default value is <code class="docutils literal notranslate"><span class="pre">../notes</span></code>, interpreted as relative path in relation to
each MuseScore file. Alternatively, a <strong>relative path</strong> can be specified <strong>without</strong> initial <code class="docutils literal notranslate"><span class="pre">./</span></code> or <code class="docutils literal notranslate"><span class="pre">../</span></code>,
e.g. <code class="docutils literal notranslate"><span class="pre">ms3</span> <span class="pre">extract</span> <span class="pre">-N</span> <span class="pre">notes</span></code>, to store the note lists in a recreated sub-directory structure:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ms3</span>
<span class="go">├── docs</span>
<span class="go">├── notes</span>
<span class="go">│   ├── docs</span>
<span class="go">│   └── tests</span>
<span class="go">│       ├── MS3</span>
<span class="go">│       └── repeat_dummies</span>
<span class="go">└── tests</span>
<span class="go">    ├── MS3</span>
<span class="go">    └── repeat_dummies</span>
</pre></div>
</div>
<p>A third option consists in specifying an <strong>absolute path</strong> which causes all note lists to be stored in the specified
folder, e.g. <code class="docutils literal notranslate"><span class="pre">ms3</span> <span class="pre">extract</span> <span class="pre">-N</span> <span class="pre">~/notes</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">~/notes</span>
<span class="go">├── 05_symph_fant.tsv</span>
<span class="go">├── 76CASM34A33UM.tsv</span>
<span class="go">├── BWV_0815.tsv</span>
<span class="go">├── cujus.tsv</span>
<span class="go">├── D973deutscher01.tsv</span>
<span class="go">├── Did03M-Son_regina-1762-Sarti.tsv</span>
<span class="go">├── K281-3.tsv</span>
<span class="go">├── o_quam.tsv</span>
<span class="go">├── quae.tsv</span>
<span class="go">├── repeats0.tsv</span>
<span class="go">├── repeats1.tsv</span>
<span class="go">├── repeats2.tsv</span>
<span class="go">├── stabat_03_coloured.tsv</span>
<span class="go">└── stabat.tsv</span>
</pre></div>
</div>
<p>Note that this leads to problems if MuseScore files from different subdirectories have identical filenames.
In any case it is good practice to not use nested folders to allow for easier file access. For example, a typical
<a class="reference external" href="https://github.com/DCMLab/dcml_corpora">DCML corpus</a> will store all MuseScore files in the <code class="docutils literal notranslate"><span class="pre">MS3</span></code> folder and
include at least the folders created by <code class="docutils literal notranslate"><span class="pre">ms3</span> <span class="pre">extract</span> <span class="pre">-N</span> <span class="pre">-M</span> <span class="pre">-X</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">.</span>
<span class="go">├── harmonies</span>
<span class="go">├── measures</span>
<span class="go">├── MS3</span>
<span class="go">└── notes</span>
</pre></div>
</div>
</section>
<section id="extracting-score-information-manually">
<h3>Extracting score information manually<a class="headerlink" href="#extracting-score-information-manually" title="Permalink to this heading">¶</a></h3>
<p>What <code class="docutils literal notranslate"><span class="pre">ms3</span> <span class="pre">extract</span></code> effectively does is creating a <a class="reference internal" href="reference.html#ms3.parse.Parse" title="ms3.parse.Parse"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parse</span></code></a> object, calling its method
<a class="reference internal" href="reference.html#ms3.parse.Parse.parse_mscx" title="ms3.parse.Parse.parse_mscx"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parse_mscx()</span></code></a> and then <a class="reference internal" href="reference.html#ms3.parse.Parse.store_lists" title="ms3.parse.Parse.store_lists"><code class="xref py py-meth docutils literal notranslate"><span class="pre">store_lists()</span></code></a>. In addition to the
command, the method allows for storing two additional aspects, namely <code class="docutils literal notranslate"><span class="pre">notes_and_rests</span></code> and <code class="docutils literal notranslate"><span class="pre">cadences</span></code> (if
the score contains cadence labels). For each of the available aspects,
<code class="docutils literal notranslate"><span class="pre">{notes,</span> <span class="pre">measures,</span> <span class="pre">rests,</span> <span class="pre">notes_and_rests,</span> <span class="pre">events,</span> <span class="pre">labels,</span> <span class="pre">chords,</span> <span class="pre">cadences,</span> <span class="pre">expanded}</span></code>,
the method provides two parameters, namely <code class="docutils literal notranslate"><span class="pre">_folder</span></code> (where to store TSVs) and <code class="docutils literal notranslate"><span class="pre">_suffix</span></code>,
i.e. a slug appended to the respective filenames. If the parameter
<code class="docutils literal notranslate"><span class="pre">simulate=True</span></code> is passed, no files are written but the file paths to be
created are returned. Since corpora might have quite diverse directory structures,
ms3 gives you various ways of specifying folders which will be explained in detail
in the following section.</p>
<p>Briefly, the rules for specifying the folders are as follows:</p>
<ul class="simple">
<li><p>absolute folder (e.g. <code class="docutils literal notranslate"><span class="pre">~/labels</span></code>): Store all files in this particular folder without creating subfolders.</p></li>
<li><p>relative folder starting with <code class="docutils literal notranslate"><span class="pre">./</span></code> or <code class="docutils literal notranslate"><span class="pre">../</span></code>: relative folders are created
“at the end” of the original subdirectory structure, i.e. relative to the MuseScore
files.</p></li>
<li><p>relative folder not starting with <code class="docutils literal notranslate"><span class="pre">./</span></code> or <code class="docutils literal notranslate"><span class="pre">../</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">rests</span></code>): relative
folders are created at the top level (of the original directory or the specified
<code class="docutils literal notranslate"><span class="pre">root_dir</span></code>) and the original subdirectory structure is replicated
in each of them.</p></li>
</ul>
<p>To see examples for the three possibilities, see the following section.</p>
<p id="specifying-folders">Consider a two-level folder structure contained in the root directory <code class="docutils literal notranslate"><span class="pre">.</span></code>
which is the one passed to <a class="reference internal" href="reference.html#ms3.parse.Parse" title="ms3.parse.Parse"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parse</span></code></a>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">.</span>
<span class="go">├── docs</span>
<span class="go">│   ├── cujus.mscx</span>
<span class="go">│   ├── o_quam.mscx</span>
<span class="go">│   ├── quae.mscx</span>
<span class="go">│   └── stabat.mscx</span>
<span class="go">└── tests</span>
<span class="go">    └── MS3</span>
<span class="go">        ├── 05_symph_fant.mscx</span>
<span class="go">        ├── 76CASM34A33UM.mscx</span>
<span class="go">        ├── BWV_0815.mscx</span>
<span class="go">        ├── D973deutscher01.mscx</span>
<span class="go">        ├── Did03M-Son_regina-1762-Sarti.mscx</span>
<span class="go">        └── K281-3.mscx</span>
</pre></div>
</div>
<p>The first level contains the subdirectories <cite>docs</cite> (4 files) and <cite>tests</cite>
(6 files in the subdirectory <cite>MS3</cite>). Now we look at the three different ways to specify folders for storing notes and
measures.</p>
<p>When we specify absolute paths, all files are stored in the specified directories.
In this example, the measures and notes are stored in the two specified subfolders
of the home directory <cite>~</cite>, regardless of the original subdirectory structure.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">store_lists</span><span class="p">(</span><span class="n">notes_folder</span><span class="o">=</span><span class="s1">&#39;~/notes&#39;</span><span class="p">,</span> <span class="n">measures_folder</span><span class="o">=</span><span class="s1">&#39;~/measures&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">~</span>
<span class="go">├── measures</span>
<span class="go">│   ├── 05_symph_fant.tsv</span>
<span class="go">│   ├── 76CASM34A33UM.tsv</span>
<span class="go">│   ├── BWV_0815.tsv</span>
<span class="go">│   ├── cujus.tsv</span>
<span class="go">│   ├── D973deutscher01.tsv</span>
<span class="go">│   ├── Did03M-Son_regina-1762-Sarti.tsv</span>
<span class="go">│   ├── K281-3.tsv</span>
<span class="go">│   ├── o_quam.tsv</span>
<span class="go">│   ├── quae.tsv</span>
<span class="go">│   └── stabat.tsv</span>
<span class="go">└── notes</span>
<span class="go">    ├── 05_symph_fant.tsv</span>
<span class="go">    ├── 76CASM34A33UM.tsv</span>
<span class="go">    ├── BWV_0815.tsv</span>
<span class="go">    ├── cujus.tsv</span>
<span class="go">    ├── D973deutscher01.tsv</span>
<span class="go">    ├── Did03M-Son_regina-1762-Sarti.tsv</span>
<span class="go">    ├── K281-3.tsv</span>
<span class="go">    ├── o_quam.tsv</span>
<span class="go">    ├── quae.tsv</span>
<span class="go">    └── stabat.tsv</span>
</pre></div>
</div>
<p>In contrast, specifying relative folders recreates the original subdirectory structure.
There are two different possibilities for that. The first possibility is naming
relative folder names, meaning that the subdirectory structure (<code class="docutils literal notranslate"><span class="pre">docs</span></code> and <code class="docutils literal notranslate"><span class="pre">tests</span></code>)
is recreated in each of the folders:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">store_lists</span><span class="p">(</span><span class="n">root_dir</span><span class="o">=</span><span class="s1">&#39;~/tsv&#39;</span><span class="p">,</span> <span class="n">notes_folder</span><span class="o">=</span><span class="s1">&#39;notes&#39;</span><span class="p">,</span> <span class="n">measures_folder</span><span class="o">=</span><span class="s1">&#39;measures&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">~/tsv</span>
<span class="go">├── measures</span>
<span class="go">│   ├── docs</span>
<span class="go">│   │   ├── cujus.tsv</span>
<span class="go">│   │   ├── o_quam.tsv</span>
<span class="go">│   │   ├── quae.tsv</span>
<span class="go">│   │   └── stabat.tsv</span>
<span class="go">│   └── tests</span>
<span class="go">│       └── MS3</span>
<span class="go">│           ├── 05_symph_fant.tsv</span>
<span class="go">│           ├── 76CASM34A33UM.tsv</span>
<span class="go">│           ├── BWV_0815.tsv</span>
<span class="go">│           ├── D973deutscher01.tsv</span>
<span class="go">│           ├── Did03M-Son_regina-1762-Sarti.tsv</span>
<span class="go">│           └── K281-3.tsv</span>
<span class="go">└── notes</span>
<span class="go">    ├── docs</span>
<span class="go">    │   ├── cujus.tsv</span>
<span class="go">    │   ├── o_quam.tsv</span>
<span class="go">    │   ├── quae.tsv</span>
<span class="go">    │   └── stabat.tsv</span>
<span class="go">    └── tests</span>
<span class="go">        └── MS3</span>
<span class="go">            ├── 05_symph_fant.tsv</span>
<span class="go">            ├── 76CASM34A33UM.tsv</span>
<span class="go">            ├── BWV_0815.tsv</span>
<span class="go">            ├── D973deutscher01.tsv</span>
<span class="go">            ├── Did03M-Son_regina-1762-Sarti.tsv</span>
<span class="go">            └── K281-3.tsv</span>
</pre></div>
</div>
<p>Note that in this example, we have specified a <code class="docutils literal notranslate"><span class="pre">root_dir</span></code>. Leaving this argument
out will create the same structure in the directory from which the <a class="reference internal" href="reference.html#ms3.parse.Parse" title="ms3.parse.Parse"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parse</span></code></a>
object was created, i.e. the folder structure would be:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">.</span>
<span class="go">├── docs</span>
<span class="go">├── measures</span>
<span class="go">│   ├── docs</span>
<span class="go">│   └── tests</span>
<span class="go">│       └── MS3</span>
<span class="go">├── notes</span>
<span class="go">│   ├── docs</span>
<span class="go">│   └── tests</span>
<span class="go">│       └── MS3</span>
<span class="go">└── tests</span>
<span class="go">    └── MS3</span>
</pre></div>
</div>
<p>If, instead, you want to create the specified relative folders relative to each
MuseScore file’s location, specify them with an initial dot. <code class="docutils literal notranslate"><span class="pre">./</span></code> means
“relative to the original path” and <code class="docutils literal notranslate"><span class="pre">../</span></code> one level up from the original path.
To exemplify both:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">store_lists</span><span class="p">(</span><span class="n">root_dir</span><span class="o">=</span><span class="s1">&#39;~/tsv&#39;</span><span class="p">,</span> <span class="n">notes_folder</span><span class="o">=</span><span class="s1">&#39;./notes&#39;</span><span class="p">,</span> <span class="n">measures_folder</span><span class="o">=</span><span class="s1">&#39;../measures&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">~/tsv</span>
<span class="go">├── docs</span>
<span class="go">│   └── notes</span>
<span class="go">│       ├── cujus.tsv</span>
<span class="go">│       ├── o_quam.tsv</span>
<span class="go">│       ├── quae.tsv</span>
<span class="go">│       └── stabat.tsv</span>
<span class="go">├── measures</span>
<span class="go">│   ├── cujus.tsv</span>
<span class="go">│   ├── o_quam.tsv</span>
<span class="go">│   ├── quae.tsv</span>
<span class="go">│   └── stabat.tsv</span>
<span class="go">└── tests</span>
<span class="go">    ├── measures</span>
<span class="go">    │   ├── 05_symph_fant.tsv</span>
<span class="go">    │   ├── 76CASM34A33UM.tsv</span>
<span class="go">    │   ├── BWV_0815.tsv</span>
<span class="go">    │   ├── D973deutscher01.tsv</span>
<span class="go">    │   ├── Did03M-Son_regina-1762-Sarti.tsv</span>
<span class="go">    │   └── K281-3.tsv</span>
<span class="go">    └── MS3</span>
<span class="go">        └── notes</span>
<span class="go">            ├── 05_symph_fant.tsv</span>
<span class="go">            ├── 76CASM34A33UM.tsv</span>
<span class="go">            ├── BWV_0815.tsv</span>
<span class="go">            ├── D973deutscher01.tsv</span>
<span class="go">            ├── Did03M-Son_regina-1762-Sarti.tsv</span>
<span class="go">            └── K281-3.tsv</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">notes</span></code> folders are created in directories where MuseScore files are located,
and the <code class="docutils literal notranslate"><span class="pre">measures</span></code> folders one directory above, respectively. Leaving out the
<code class="docutils literal notranslate"><span class="pre">root_dir</span></code> argument would lead to the same folder structure but in the directory
from which the <a class="reference internal" href="reference.html#ms3.parse.Parse" title="ms3.parse.Parse"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parse</span></code></a> object has been created. In a similar manner,
the arguments <code class="docutils literal notranslate"><span class="pre">p.store_lists(notes_folder='.',</span> <span class="pre">measures_folder='.')</span></code> would create
the TSV files just next to the MuseScore files. However, this would lead to warnings
such as</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The notes at ~/ms3/docs/cujus.tsv have been overwritten with measures.</p>
</div>
<p>In such a case we need to specify a suffix for at least one of both aspects:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">p</span><span class="o">.</span><span class="n">store_lists</span><span class="p">(</span><span class="n">notes_folder</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">notes_suffix</span><span class="o">=</span><span class="s1">&#39;_notes&#39;</span><span class="p">,</span>
              <span class="n">measures_folder</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">measures_suffix</span><span class="o">=</span><span class="s1">&#39;_measures&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Before you are sure to have picked the right parameters for your desired output,
you can simply use the <code class="docutils literal notranslate"><span class="pre">simulate=True</span></code> argument which lets you view the paths
without actually creating any files. In this variant, all aspects are stored each
in individual folders but with identical filenames:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">Parse</span><span class="p">(</span><span class="s1">&#39;~/ms3/docs&#39;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;pergo&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">parse_mscx</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">store_lists</span><span class="p">(</span>  <span class="n">notes_folder</span><span class="o">=</span><span class="s1">&#39;./notes&#39;</span><span class="p">,</span>
<span class="go">                    rests_folder=&#39;./rests&#39;,</span>
<span class="go">                    notes_and_rests_folder=&#39;./notes_and_rests&#39;,</span>
<span class="go">                    simulate=True</span>
<span class="go">                    )</span>
<span class="go">[&#39;~/ms3/docs/notes/cujus.tsv&#39;,</span>
<span class="go"> &#39;~/ms3/docs/rests/cujus.tsv&#39;,</span>
<span class="go"> &#39;~/ms3/docs/notes_and_rests/cujus.tsv&#39;,</span>
<span class="go"> &#39;~/ms3/docs/notes/o_quam.tsv&#39;,</span>
<span class="go"> &#39;~/ms3/docs/rests/o_quam.tsv&#39;,</span>
<span class="go"> &#39;~/ms3/docs/notes_and_rests/o_quam.tsv&#39;,</span>
<span class="go"> &#39;~/ms3/docs/notes/quae.tsv&#39;,</span>
<span class="go"> &#39;~/ms3/docs/rests/quae.tsv&#39;,</span>
<span class="go"> &#39;~/ms3/docs/notes_and_rests/quae.tsv&#39;,</span>
<span class="go"> &#39;~/ms3/docs/notes/stabat.tsv&#39;,</span>
<span class="go"> &#39;~/ms3/docs/rests/stabat.tsv&#39;,</span>
<span class="go"> &#39;~/ms3/docs/notes_and_rests/stabat.tsv&#39;]</span>
</pre></div>
</div>
<p>In this variant, the different ways of specifying folders are exemplified. To demonstrate all subtleties we parse the
same four files but this time from the perspective of <code class="docutils literal notranslate"><span class="pre">~/ms3</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">Parse</span><span class="p">(</span><span class="s1">&#39;~/ms3&#39;</span><span class="p">,</span> <span class="n">folder_re</span><span class="o">=</span><span class="s1">&#39;docs&#39;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;pergo&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">parse_mscx</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">store_lists</span><span class="p">(</span>  <span class="n">notes_folder</span><span class="o">=</span><span class="s1">&#39;./notes&#39;</span><span class="p">,</span>            <span class="c1"># relative to ms3/docs</span>
<span class="go">                    measures_folder=&#39;../measures&#39;,     # one level up from ms3/docs</span>
<span class="go">                    rests_folder=&#39;rests&#39;,              # relative to the parsed directory</span>
<span class="go">                    labels_folder=&#39;~/labels&#39;,          # absolute folder</span>
<span class="go">                    expanded_folder=&#39;~/labels&#39;, expanded_suffix=&#39;_exp&#39;,</span>
<span class="go">                    simulate = True</span>
<span class="go">                    )</span>
<span class="go">[&#39;~/ms3/docs/notes/cujus.tsv&#39;,</span>
<span class="go"> &#39;~/ms3/rests/docs/cujus.tsv&#39;,</span>
<span class="go"> &#39;~/ms3/measures/cujus.tsv&#39;,</span>
<span class="go"> &#39;~/labels/cujus.tsv&#39;,</span>
<span class="go"> &#39;~/labels/cujus_exp.tsv&#39;,</span>
<span class="go"> &#39;~/ms3/docs/notes/o_quam.tsv&#39;,</span>
<span class="go"> &#39;~/ms3/rests/docs/o_quam.tsv&#39;,</span>
<span class="go"> &#39;~/ms3/measures/o_quam.tsv&#39;,</span>
<span class="go"> &#39;~/labels/o_quam.tsv&#39;,</span>
<span class="go"> &#39;~/labels/o_quam_exp.tsv&#39;,</span>
<span class="go"> &#39;~/ms3/docs/notes/quae.tsv&#39;,</span>
<span class="go"> &#39;~/ms3/rests/docs/quae.tsv&#39;,</span>
<span class="go"> &#39;~/ms3/measures/quae.tsv&#39;,</span>
<span class="go"> &#39;~/labels/quae.tsv&#39;,</span>
<span class="go"> &#39;~/labels/quae_exp.tsv&#39;,</span>
<span class="go"> &#39;~/ms3/docs/notes/stabat.tsv&#39;,</span>
<span class="go"> &#39;~/ms3/rests/docs/stabat.tsv&#39;,</span>
<span class="go"> &#39;~/ms3/measures/stabat.tsv&#39;,</span>
<span class="go"> &#39;~/labels/stabat.tsv&#39;,</span>
<span class="go"> &#39;~/labels/stabat_exp.tsv&#39;]</span>
</pre></div>
</div>
</section>
</section>
<section id="column-names">
<span id="id14"></span><h2>Column Names<a class="headerlink" href="#column-names" title="Permalink to this heading">¶</a></h2>
<p>Glossary of the meaning and types of column types. In order to correctly restore the types when loading TSV files,
either use an <a class="reference internal" href="reference.html#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a> object or the function <a class="reference internal" href="reference.html#ms3.utils.load_tsv" title="ms3.utils.load_tsv"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_tsv()</span></code></a>.</p>
<section id="general-columns">
<h3>General Columns<a class="headerlink" href="#general-columns" title="Permalink to this heading">¶</a></h3>
<p id="duration"><a class="reference external" href="https://docs.python.org/3.10/library/fractions.html#fractions.Fraction" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fractions.Fraction</span></code></a></p>
<p>Duration of an event expressed in fractions of a whole note. Note that in note lists, the duration does not take
into account if notes are <a class="reference internal" href="#tied"><span class="std std-ref">tied</span></a> together; in other words, the column expresses no durations that
surpass the final bar line.</p>
<p id="keysig"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a></p>
<p>The feature <code class="docutils literal notranslate"><span class="pre">keysig</span></code> represents the key signature of a particular measure.
It is an integer which, if positive, represents the number of sharps, and if
negative, the number of flats. E.g.: <code class="docutils literal notranslate"><span class="pre">3</span></code>: three sharps, <code class="docutils literal notranslate"><span class="pre">-2</span></code>: two flats,
<code class="docutils literal notranslate"><span class="pre">0</span></code>: no accidentals.</p>
<p id="mc"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a></p>
<p>Measure count, identifier for the measure units in the XML encoding.
Always starts with 1 for correspondence to MuseScore’s status bar. For more detailed information, please refer to
<a class="reference internal" href="#mc-vs-mn"><span class="std std-ref">Measure counts (MC) vs. measure numbers (MN)</span></a>.</p>
<p id="mn"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a></p>
<p>Measure number, continuous count of complete measures as used in printed editions.
Starts with 1 except for pieces beginning with a pickup measure, numbered as 0. MNs are identical for first and
second endings! For more detailed information, please refer to <a class="reference internal" href="#mc-vs-mn"><span class="std std-ref">Measure counts (MC) vs. measure numbers (MN)</span></a>.</p>
<p id="mc-onset"><a class="reference external" href="https://docs.python.org/3.10/library/fractions.html#fractions.Fraction" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fractions.Fraction</span></code></a></p>
<p>The value for <code class="docutils literal notranslate"><span class="pre">mc_onset</span></code> represents, expressed as fraction of a whole note, a position in a measure where <code class="docutils literal notranslate"><span class="pre">0</span></code>
corresponds to the earliest possible position (in most cases beat 1). For more detailed information, please
refer to <a class="reference internal" href="#onsets"><span class="std std-ref">Onset positions</span></a>.</p>
<p id="mn-onset"><a class="reference external" href="https://docs.python.org/3.10/library/fractions.html#fractions.Fraction" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fractions.Fraction</span></code></a></p>
<p>The value for <code class="docutils literal notranslate"><span class="pre">mn_onset</span></code> represents, expressed as fraction of a whole note, a position in a measure where <code class="docutils literal notranslate"><span class="pre">0</span></code>
corresponds to the earliest possible position of the corresponding measure number (MN). For more detailed information,
please refer to <a class="reference internal" href="#onsets"><span class="std std-ref">Onset positions</span></a>.</p>
<p id="quarterbeats"><a class="reference external" href="https://docs.python.org/3.10/library/fractions.html#fractions.Fraction" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fractions.Fraction</span></code></a></p>
<p>This column expresses positions, otherwise accessible only as a tuple <code class="docutils literal notranslate"><span class="pre">(mc,</span> <span class="pre">mc_onset)</span></code>, as a running count of
quarter notes from the piece’s beginning (quarterbeat = 0). If second endings are present in the score, only the
second ending is counted in order to give authentic values to such a score, as if played without repetitions (third endings and more are also ignored). If
repetitions are unfolded, i.e. the table corresponds to a full play-through of the score, all endings are taken into
account correctly.</p>
<p id="staff"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a></p>
<p>In which staff an event occurs. <code class="docutils literal notranslate"><span class="pre">1</span></code> = upper staff.</p>
<p id="timesig"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></p>
<p>The time signature <code class="docutils literal notranslate"><span class="pre">timesig</span></code> of a particular measure is expressed as a string, e.g. <code class="docutils literal notranslate"><span class="pre">'2/2'</span></code>.
The <a class="reference internal" href="#act-dur"><span class="std std-ref">actual duration</span></a> of a measure can deviate from the time signature for notational reasons: For example,
a pickup bar could have an actual duration of <code class="docutils literal notranslate"><span class="pre">1/4</span></code>  but still be part of a <code class="docutils literal notranslate"><span class="pre">'3/8'</span></code> meter, which usually
has an actual duration of <code class="docutils literal notranslate"><span class="pre">3/8</span></code>.</p>
<p id="volta"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a></p>
<p>In the case of first and second (third etc.) endings, this column holds the number of every “bracket”, “house”, or _volta_,
which should increase from 1. This is required for MS3’s unfold repeats function to work. For more information,
<a class="reference internal" href="#voltas"><span class="std std-ref">see here</span></a>.</p>
<p id="voice"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a></p>
<p>In which notational layer an event occurs. Each <span class="xref std std-ref">staff</span> has (can have) up to four layers:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code> = upper, default layer (blue)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code> = second layer, downward stems (green)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3</span></code> = third layer, upward stems (orange)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span></code> = fourth layer, downward stems (purple)</p></li>
</ul>
</section>
<section id="id15">
<h3>Measures<a class="headerlink" href="#id15" title="Permalink to this heading">¶</a></h3>
<p id="act-dur"><a class="reference external" href="https://docs.python.org/3.10/library/fractions.html#fractions.Fraction" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fractions.Fraction</span></code></a></p>
<p>The value of <code class="docutils literal notranslate"><span class="pre">act_dur</span></code> in most cases equals the time signature, expressed as a fraction; meaning for example that
a “normal” measure in 6/8 has <code class="docutils literal notranslate"><span class="pre">act_dur</span> <span class="pre">=</span> <span class="pre">3/4</span></code>. If the measure has an irregular length, for example a pickup measure
of length 1/8, would have <code class="docutils literal notranslate"><span class="pre">act_dur</span> <span class="pre">=</span> <span class="pre">1/8</span></code>.</p>
<p>The value of <code class="docutils literal notranslate"><span class="pre">act_dur</span></code> plays an important part in inferring <a class="reference internal" href="#mn"><span class="std std-ref">MNs</span></a>
from <a class="reference internal" href="#mc"><span class="std std-ref">MCs</span></a>. See also the columns <a class="reference internal" href="#dont-count"><span class="std std-ref">dont_count</span></a> and <a class="reference internal" href="#numbering-offset"><span class="std std-ref">numbering_offset</span></a>.</p>
<p id="barline"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></p>
<p>The column <code class="docutils literal notranslate"><span class="pre">barline</span></code> encodes information about the measure’s final bar line.</p>
<p id="breaks"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></p>
<p>The column <code class="docutils literal notranslate"><span class="pre">breaks</span></code> may include three different values: <code class="docutils literal notranslate"><span class="pre">{'line',</span> <span class="pre">'page',</span> <span class="pre">'section'}</span></code> which represent the different
breaks types. In the case of section breaks, MuseScore</p>
<p id="dont-count"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a></p>
<p>This is a binary value that corresponds to MuseScore’s setting <code class="docutils literal notranslate"><span class="pre">Exclude</span> <span class="pre">from</span> <span class="pre">bar</span> <span class="pre">count</span></code> from the <code class="docutils literal notranslate"><span class="pre">Bar</span> <span class="pre">Properties</span></code> menu.
The value is <code class="docutils literal notranslate"><span class="pre">1</span></code> for pickup bars, second <a class="reference internal" href="#mc"><span class="std std-ref">MCs</span></a> of divided <a class="reference internal" href="#mn"><span class="std std-ref">MNs</span></a> and some volta measures,
and <code class="docutils literal notranslate"><span class="pre">NaN</span></code> otherwise.</p>
<p id="mc-offset"><a class="reference external" href="https://docs.python.org/3.10/library/fractions.html#fractions.Fraction" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fractions.Fraction</span></code></a></p>
<p>The column <code class="docutils literal notranslate"><span class="pre">mc_offset</span></code> , in most cases, has the value <code class="docutils literal notranslate"><span class="pre">0</span></code> because it expresses the deviation of this MC’s
<span class="xref std std-ref">mc_onset</span> <code class="docutils literal notranslate"><span class="pre">0</span></code> (beginning of the MC)
from beat 1 of the corresponding MN. If the value is a fraction &gt; 0, it means that this MC is part of a MN which is
composed of at least two MCs, and it expresses the current MC’s offset in terms of the duration of all (usually 1) preceding MCs
which are also part of the corresponding MN. In the standard case that one MN would be split in two MCs, the first MC
would have mc_offset = <code class="docutils literal notranslate"><span class="pre">0</span></code> , and the second one mc_offset = <code class="docutils literal notranslate"><span class="pre">the</span> <span class="pre">previous</span> <span class="pre">MC's</span></code> <a class="reference internal" href="#act-dur"><span class="std std-ref">act_dur</span></a> .</p>
<p id="next"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a></p>
<p>Every cell in this column has at least one integer, namely the MC of the subsequent bar, or <code class="docutils literal notranslate"><span class="pre">-1</span></code> in the cast of the last.
In the case of repetitions, measures can have more than one subsequent MCs, in which case the integers are separated by
<code class="docutils literal notranslate"><span class="pre">',</span> <span class="pre">'</span></code> .</p>
<p>The column is used for checking whether <a class="reference internal" href="#act-dur"><span class="std std-ref">irregular measure lengths</span></a> even themselves out because otherwise
the inferred MNs might be wrong. Also, it is needed for MS3’s unfold repetitions functionality.</p>
<p id="numbering-offset"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a></p>
<p>MuseScore’s measure number counter can be reset at a given MC by using the <code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">to</span> <span class="pre">bar</span> <span class="pre">number</span></code> setting from the
<code class="docutils literal notranslate"><span class="pre">Bar</span> <span class="pre">Properties</span></code> menu. If <code class="docutils literal notranslate"><span class="pre">numbering_offset</span></code> ≠ 0, the counting offset is added to the current MN and all subsequent
MNs are inferred accordingly.</p>
<p>Scores which include several pieces (e.g. in variations or a suite),
sometimes, instead of using section <a class="reference internal" href="#breaks"><span class="std std-ref">breaks</span></a>, use <code class="docutils literal notranslate"><span class="pre">numbering_offset</span></code> to simulate a restart for counting
<a class="reference internal" href="#mn"><span class="std std-ref">MNs</span></a> at every new section. This leads to ambiguous MNs.</p>
<p id="repeats"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></p>
<p>The column <code class="docutils literal notranslate"><span class="pre">repeats</span></code> indicates the presence of repeat signs and can have the values
<code class="docutils literal notranslate"><span class="pre">{'start',</span> <span class="pre">'end',</span> <span class="pre">'startend',</span> <span class="pre">'firstMeasure',</span> <span class="pre">'lastMeasure'}</span></code>. MS3 performs a test on the
repeat signs’ plausibility and throws warnings when some inference is required for this.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">repeats</span></code> column needs to have the correct repeat sign structure in order to have a correct <a class="reference internal" href="#next"><span class="std std-ref">next</span></a>
column which, in return, is required for MS3’s unfolding repetitions functionality.</p>
</section>
<section id="id16">
<h3>Notes and Rests<a class="headerlink" href="#id16" title="Permalink to this heading">¶</a></h3>
<p id="chord-id"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a></p>
<p>Every note keeps the ID of the <code class="docutils literal notranslate"><span class="pre">&lt;Chord&gt;</span></code> tag to which it belongs in the score. This is necessary because in
MuseScore XML, most markup (e.g. articulation, lyrics etc.) are attached to <a class="reference internal" href="#chords"><span class="std std-ref">chords</span></a> rather than
to individual notes. This column allows for relating markup to notes at a later point.</p>
<p id="gracenote"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></p>
<p>For grace notes, type of the grace note as encoded in the MuseScore source code. They are assigned a
<a class="reference internal" href="#duration"><span class="std std-ref">duration</span></a> of 0.</p>
<p id="midi"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a></p>
<p>MIDI pitch with <code class="docutils literal notranslate"><span class="pre">60</span></code> = C4, <code class="docutils literal notranslate"><span class="pre">61</span></code> = C#4/Db4/B##3 etc. For the actual note name, refer to the
<a class="reference internal" href="#tpc"><span class="std std-ref">tpc</span></a> column.</p>
<p id="nominal-duration"><a class="reference external" href="https://docs.python.org/3.10/library/fractions.html#fractions.Fraction" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fractions.Fraction</span></code></a></p>
<p>Note’s or rest’s duration without taking into account dots or tuplets. Multiplying by <a class="reference internal" href="#scalar"><span class="std std-ref">scalar</span></a>
results in the actual <a class="reference internal" href="#duration"><span class="std std-ref">duration</span></a>.</p>
<p id="scalar"><a class="reference external" href="https://docs.python.org/3.10/library/fractions.html#fractions.Fraction" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fractions.Fraction</span></code></a></p>
<p>Value reflecting dots and tuples by which to multiply a note’s or rest’s <a class="reference internal" href="#nominal-duration"><span class="std std-ref">nominal_duration</span></a>.</p>
<p id="tied"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a></p>
<p>Encodes ties on the note’s left (<code class="docutils literal notranslate"><span class="pre">-1</span></code>), on its right (<code class="docutils literal notranslate"><span class="pre">1</span></code>) or both (<code class="docutils literal notranslate"><span class="pre">0</span></code>).
A tie merges a note with an adjacent one having the same pitch.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>value</p></th>
<th class="head"><p>explanation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>&lt;NA&gt;</p></td>
<td><p>No ties. This note represents an onset and ends after the given duration.</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>This note is tied to the next one. It represents an onset but not a note ending.</p></td>
</tr>
<tr class="row-even"><td><p>0</p></td>
<td><p>This note is being tied to and tied to the next one. It represents neither an onset nor a note ending.</p></td>
</tr>
<tr class="row-odd"><td><p>-1</p></td>
<td><p>This note is being tied to. That is, it does not represent an onset,
instead it adds to the duration of a previous note on the same pitch and ends it.</p></td>
</tr>
</tbody>
</table>
<p id="tpc"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a></p>
<p>Encodes note names by their position on the line of fifth with <code class="docutils literal notranslate"><span class="pre">0</span></code> = C, <code class="docutils literal notranslate"><span class="pre">1</span></code> = G, <code class="docutils literal notranslate"><span class="pre">2</span></code> = D, <code class="docutils literal notranslate"><span class="pre">-1</span></code> = F,
<code class="docutils literal notranslate"><span class="pre">-2</span></code> = Bb etc. The octave is defined by <a class="reference internal" href="#midi"><span class="std std-ref">midi</span></a> DIV 12 - 1</p>
</section>
<section id="id17">
<h3>Chords<a class="headerlink" href="#id17" title="Permalink to this heading">¶</a></h3>
<p>The various &lt;Chord&gt; tags are identified by increasing integer counts in the column <code class="docutils literal notranslate"><span class="pre">chord_id</span></code>. Within a note list,
a <a class="reference internal" href="#chord-id"><span class="std std-ref">column of the same name</span></a> specifies which note belongs to which &lt;Chord&gt; tag. A chord and all the
notes belonging to it have identical values in the columns <a class="reference internal" href="#mc"><span class="std std-ref">mc</span></a>, <a class="reference internal" href="#mn"><span class="std std-ref">mn</span></a>, <a class="reference internal" href="#mc-onset"><span class="std std-ref">mc_onset</span></a>,
<a class="reference internal" href="#mn-onset"><span class="std std-ref">mn_onset</span></a>, <a class="reference internal" href="#timesig"><span class="std std-ref">timesig</span></a>, <a class="reference internal" href="#staff"><span class="std std-ref">staff</span></a>, <a class="reference internal" href="#voice"><span class="std std-ref">voice</span></a>,
<a class="reference internal" href="#duration"><span class="std std-ref">duration</span></a>, <a class="reference internal" href="#gracenote"><span class="std std-ref">gracenote</span></a>, <a class="reference internal" href="#nominal-duration"><span class="std std-ref">nominal_duration</span></a>,
<a class="reference internal" href="#scalar"><span class="std std-ref">scalar</span></a>, <a class="reference internal" href="#volta"><span class="std std-ref">volta</span></a>, and of course <a class="reference internal" href="#chord-id"><span class="std std-ref">chord_id</span></a>.</p>
<p id="articulation"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></p>
<p>Articulation signs named as in the MuseScore file, e.g. <code class="docutils literal notranslate"><span class="pre">articStaccatoBelow</span></code>.</p>
<p id="dynamics"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></p>
<p>Dynamic signs such as <code class="docutils literal notranslate"><span class="pre">p</span></code>, <code class="docutils literal notranslate"><span class="pre">ff</span></code> etc. Other dynamic markings such as <code class="docutils literal notranslate"><span class="pre">dolce</span></code> are currently displayed as
<code class="docutils literal notranslate"><span class="pre">other-dynamics</span></code>. Velocity values are currently not extracted. These features can easily be implemented
<a class="reference external" href="https://github.com/johentsch/ms3/issues/">upon request</a>.</p>
<p id="lyrics-1"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></p>
<p>When a voice includes only a single verse, all syllables are contained in the column <code class="docutils literal notranslate"><span class="pre">lyrics:1</span></code>. If it has more
than one verse, for each &lt;Chord&gt; the last verse’s syllable is contained in the respective column, e.g. <code class="docutils literal notranslate"><span class="pre">lyrics:3</span></code> if
the 3rd verse is the last one with a syllable for this chord. Each syllable has a trailing <code class="docutils literal notranslate"><span class="pre">-</span></code> if it’s the first
syllable of a word, a leading <code class="docutils literal notranslate"><span class="pre">-</span></code> if it’s the last syllable of a word, and both if it’s in the middle of a word.</p>
<p id="qpm"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a></p>
<p>Defined for every <a class="reference internal" href="#tempo"><span class="std std-ref">tempo</span></a> mark. Normalizes the metronome value to quarter notes. For example, <code class="docutils literal notranslate"><span class="pre">𝅘𝅥.</span> <span class="pre">=</span> <span class="pre">112</span></code> gets the
value <code class="docutils literal notranslate"><span class="pre">qbm</span> <span class="pre">=</span> <span class="pre">112</span> <span class="pre">*</span> <span class="pre">1.5</span> <span class="pre">=</span> <span class="pre">168</span></code>.</p>
<p id="staff-text"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></p>
<p>Free-form text such as <code class="docutils literal notranslate"><span class="pre">dolce</span></code> or <code class="docutils literal notranslate"><span class="pre">div.</span></code>. Depending on the encoding standard, this layer may include dynamics
such as <code class="docutils literal notranslate"><span class="pre">cresc.</span></code>, articulation such as <code class="docutils literal notranslate"><span class="pre">stacc.</span></code>, movement titles, and many more. Staff texts are added in MuseScore
via <code class="docutils literal notranslate"><span class="pre">[C]</span> <span class="pre">+</span> <span class="pre">T</span></code>.</p>
<p id="system-text">Free-form text not attached to a particular staff but to the entire system. This frequently includes movement names or
playing styles such as <code class="docutils literal notranslate"><span class="pre">Swing</span></code>. System texts are added in MuseScore via <code class="docutils literal notranslate"><span class="pre">[C]</span> <span class="pre">+</span> <span class="pre">[S]</span> <span class="pre">+</span> <span class="pre">T</span></code>.</p>
<p id="tempo">Metronome markings and tempo texts. Unfortunately, for tempo texts that include a metronome mark, e.g.
<code class="docutils literal notranslate"><span class="pre">Larghetto.</span> <span class="pre">(𝅘𝅥</span> <span class="pre">=</span> <span class="pre">63)</span></code>, the text before the 𝅘𝅥 symbol is lost. This can be fixed
<a class="reference external" href="https://github.com/johentsch/ms3/issues/">upon request</a>.</p>
<p id="spanners"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> (-&gt; <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>)</p>
<p>Spanners designate markup that spans several &lt;Chord&gt; tags, such as slurs, hairpins, pedal, trill and ottava lines. The values
in a spanner column are IDs such that all chords with the same ID belong to the same spanner. Each cell can have more
than one ID, separated by commas. For evaluating spanner columns, the values should be turned into tuples.</p>
<p>Spanners span all chords belonging to the same <a class="reference internal" href="#staff"><span class="std std-ref">staff</span></a>, except for slurs and trills which span only chords in the same <a class="reference internal" href="#voice"><span class="std std-ref">voice</span></a>. In
other words, won’t find the ending of a slur that goes from one <a class="reference internal" href="#voice"><span class="std std-ref">voice</span></a> to another.</p>
<p id="slur"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> (-&gt; <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>)</p>
<p>Slurs expressing legato and/or phrasing. These <a class="reference internal" href="#spanners"><span class="std std-ref">spanners</span></a> always pertain to a particular <a class="reference internal" href="#voice"><span class="std std-ref">voice</span></a>.</p>
<p id="hairpins"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> (-&gt; <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>)</p>
<p><code class="docutils literal notranslate"><span class="pre">crescendo_hairpin</span></code> is a <code class="docutils literal notranslate"><span class="pre">&lt;</span></code> <a class="reference internal" href="#spanners"><span class="std std-ref">spanner</span></a>, <code class="docutils literal notranslate"><span class="pre">decrescendo_hairpin</span></code> a <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> <a class="reference internal" href="#spanners"><span class="std std-ref">spanner</span></a>.
These always pertain to an entire <a class="reference internal" href="#staff"><span class="std std-ref">staff</span></a>.</p>
<p id="cresc-lines"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> (-&gt; <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>)</p>
<p>These are <a class="reference internal" href="#spanners"><span class="std std-ref">spanners</span></a> starting with a word, by default <code class="docutils literal notranslate"><span class="pre">cresc.</span></code> or <code class="docutils literal notranslate"><span class="pre">dim.</span></code>, followed by a dotted line.
These always pertain to an entire <a class="reference internal" href="#staff"><span class="std std-ref">staff</span></a>.</p>
<p id="ottava"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> (-&gt; <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>)</p>
<p>These <a class="reference internal" href="#spanners"><span class="std std-ref">spanners</span></a> are always specified with a subtype such as <code class="docutils literal notranslate"><span class="pre">Ottava:8va</span></code> or <code class="docutils literal notranslate"><span class="pre">Ottava:15mb</span></code>. They
always pertain to an entire <a class="reference internal" href="#staff"><span class="std std-ref">staff</span></a></p>
<p id="pedal"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> (-&gt; <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>)</p>
<p>Pedal line <a class="reference internal" href="#spanners"><span class="std std-ref">spanners</span></a> always pertain to an entire <a class="reference internal" href="#staff"><span class="std std-ref">staff</span></a>.</p>
<p id="trill"><strong>Trill</strong></p>
<p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></p>
<p>Trills <a class="reference internal" href="#spanners"><span class="std std-ref">spanners</span></a> can have different subtypes specified after a colon, e.g. <code class="docutils literal notranslate"><span class="pre">'Trill:trill'</span></code>.
They always pertain to a particular <a class="reference internal" href="#voice"><span class="std std-ref">voice</span></a>.</p>
</section>
<section id="id18">
<h3>Labels<a class="headerlink" href="#id18" title="Permalink to this heading">¶</a></h3>
<p id="label"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></p>
<p>Annotation labels from MuseScores &lt;Harmony&gt; tags. Depending on the <a class="reference internal" href="#label-type"><span class="std std-ref">label_type</span></a> the column can include complete
strings (decoded) or partial strings (encoded).</p>
<p id="label-type"><strong>label_type</strong></p>
<p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></p>
<p>See <a class="reference internal" href="#label-types"><span class="std std-ref">label types</span></a> above.</p>
</section>
<section id="id19">
<h3>Expanded<a class="headerlink" href="#id19" title="Permalink to this heading">¶</a></h3>
<p id="bass-note"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a></p>
<p>The bass note designated by the label, expressed as <a class="reference internal" href="#fifths"><span class="std std-ref">scale degree</span></a>.</p>
<p id="cadence"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></p>
<p>Currently allows for the values</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>value</p></th>
<th class="head"><p>cadence</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>PAC</p></td>
<td><p>perfect authentic</p></td>
</tr>
<tr class="row-odd"><td><p>IAC</p></td>
<td><p>imperfect authentic</p></td>
</tr>
<tr class="row-even"><td><p>HC</p></td>
<td><p>half</p></td>
</tr>
<tr class="row-odd"><td><p>DC</p></td>
<td><p>deceptive</p></td>
</tr>
<tr class="row-even"><td><p>EC</p></td>
<td><p>evaded</p></td>
</tr>
<tr class="row-odd"><td><p>PC</p></td>
<td><p>plagal</p></td>
</tr>
</tbody>
</table>
<p id="chord"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></p>
<p>This column stands in no relation to the &lt;Chord&gt; tags <a class="reference internal" href="#chords"><span class="std std-ref">discussed above</span></a>. Instead, it holds the substring
of the original labels that includes only the actual chord label, i.e. excluding information about modulations,
pedal tones, phrases, and cadences. In other words, it comprises the features <a class="reference internal" href="#numeral"><span class="std std-ref">numeral</span></a>, <a class="reference internal" href="#form"><span class="std std-ref">form</span></a>, <a class="reference internal" href="#figbass"><span class="std std-ref">figbass</span></a>, <a class="reference internal" href="changelog.html#changes"><span class="std std-ref">changes</span></a>,
and <a class="reference internal" href="#relativeroot"><span class="std std-ref">relativeroot</span></a>.</p>
<p id="chord-tones"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> (-&gt; <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>)</p>
<p>Chord tones designated by the label, expressed as <a class="reference internal" href="#fifths"><span class="std std-ref">scale degrees</span></a>. Includes 3 scale degrees for triads,
4 for tetrads, ordered according to the inversion (i.e. the first value is the <a class="reference internal" href="#bass-note"><span class="std std-ref">bass_note</span></a>). Accounts for chord tone
replacement expressed through intervals &lt;= 8 within parentheses, without leading +.
<code class="docutils literal notranslate"><span class="pre">added_tones</span></code> reflects only those non-chord tones that were added using, again within parentheses,
intervals preceded by + or/and greater than 8.</p>
<p id="chord-type"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></p>
<p>A summary of information that otherwise depends on the three columns <a class="reference internal" href="#numeral"><span class="std std-ref">numeral</span></a>, <a class="reference internal" href="#form"><span class="std std-ref">form</span></a>, <a class="reference internal" href="#figbass"><span class="std std-ref">figbass</span></a>.
It can be one of the wide-spread abbreviations for triads: <code class="docutils literal notranslate"><span class="pre">M,</span> <span class="pre">m,</span> <span class="pre">o,</span> <span class="pre">+</span></code> or for seventh chords: <code class="docutils literal notranslate"><span class="pre">o7,</span> <span class="pre">%7,</span> <span class="pre">+7,</span> <span class="pre">+M7</span></code>
(for diminished, half-diminished and augmented chords with minor/major seventh),
or <code class="docutils literal notranslate"><span class="pre">Mm7,</span> <span class="pre">mm7,</span> <span class="pre">MM7,</span> <span class="pre">mM7</span></code> for all combinations of a major/minor triad with a minor/major seventh.</p>
<p id="figbass">Figured bass notation of the chord inversion. For triads, this feature can be <code class="docutils literal notranslate"><span class="pre">&lt;NA&gt;,</span> <span class="pre">'6',</span> <span class="pre">'64'</span></code>,
for seventh chords <code class="docutils literal notranslate"><span class="pre">'7',</span> <span class="pre">'65',</span> <span class="pre">'43',</span> <span class="pre">'2'</span></code>. This column plays into computing the <a class="reference internal" href="#chord-type"><span class="std std-ref">chord_type</span></a>.
This feature is decisive for <a class="reference internal" href="#bass-note"><span class="std std-ref">which chord tone is in the bass</span></a>.</p>
<p id="form"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></p>
<p>This column conveys part of the information what <a class="reference internal" href="#chord-type"><span class="std std-ref">chord_type</span></a> a label expresses.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>value</p></th>
<th class="head"><p>chord type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>&lt;NA&gt;</p></td>
<td><p>If <a class="reference internal" href="#figbass"><span class="std std-ref">figbass</span></a> is one of <code class="docutils literal notranslate"><span class="pre">&lt;NA&gt;,</span> <span class="pre">'6',</span> <span class="pre">'64'</span></code>, the chord is either a major or minor triad. Otherwise, it is
either a major or a minor chord with a minor seventh.</p></td>
</tr>
<tr class="row-odd"><td><p>o, +</p></td>
<td><p>Diminished or augmented chord. Again, it depends on <a class="reference internal" href="#figbass"><span class="std std-ref">figbass</span></a> whether it is a triad or a seventh chord.</p></td>
</tr>
<tr class="row-even"><td><p>%, M, +M</p></td>
<td><p>Half diminished or major seventh chord. For the latter, the chord form (MM7 or mM7) depends on the <a class="reference internal" href="#numeral"><span class="std std-ref">numeral</span></a>.</p></td>
</tr>
</tbody>
</table>
<p id="globalkey"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></p>
<p>Tonality of the piece, expressed as absolute note name, e.g. <code class="docutils literal notranslate"><span class="pre">Ab</span></code> for A flat major, or <code class="docutils literal notranslate"><span class="pre">g#</span></code> for G sharp minor.</p>
<p id="globalkey-is-minor"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></p>
<p>Auxiliary column which is True if the <a class="reference internal" href="#globalkey"><span class="std std-ref">globalkey</span></a> is a minor key, False otherwise.</p>
<p id="localkey"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></p>
<p>Local key expressed as Roman numeral relative to the <a class="reference internal" href="#globalkey"><span class="std std-ref">globalkey</span></a>, e.g. <code class="docutils literal notranslate"><span class="pre">IV</span></code> for the major key on the 4th scale degree
or <code class="docutils literal notranslate"><span class="pre">#iv</span></code> for the minor scale on the raised 4th scale degree.</p>
<p id="localkey-is-minor"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></p>
<p>Auxiliary column which is True if the <a class="reference internal" href="#localkey"><span class="std std-ref">localkey</span></a> is a minor key, False otherwise.</p>
<p id="numeral"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></p>
<p>Roman numeral defining the chordal root relative to the local key. An uppercase numeral stands for a major chordal
third, lowercase for a minor third. The column <a class="reference internal" href="#root"><span class="std std-ref">root</span></a> expresses the same information as <a class="reference internal" href="#fifths"><span class="std std-ref">scale degree</span></a>.</p>
<p id="phraseend">In versions &lt; 2.2.0, only phrase endings where annotated, designated by <code class="docutils literal notranslate"><span class="pre">\\</span></code>. From version 2.2.0 onwards,
<code class="docutils literal notranslate"><span class="pre">{</span></code> means beginning and <code class="docutils literal notranslate"><span class="pre">}</span></code> ending of a phrase. Everything between <code class="docutils literal notranslate"><span class="pre">}</span></code> and the subsequent <code class="docutils literal notranslate"><span class="pre">{</span></code> is to be
considered as part of the previous phrase, a ‘codetta’ after the strong end point.</p>
<p id="relativeroot"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></p>
<p>This feature designates a lower-level key to which the current chord relates. It is expressed relative to the local key.
For example, if the current <a class="reference internal" href="#numeral"><span class="std std-ref">numeral</span></a> is a <code class="docutils literal notranslate"><span class="pre">V</span></code> and it is a secondary dominant,
relativeroot is the Roman numeral of the key that is being tonicized.</p>
<p id="root"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a></p>
<p>The <a class="reference internal" href="#numeral"><span class="std std-ref">numeral</span></a> expressed as <a class="reference internal" href="#fifths"><span class="std std-ref">scale degree</span></a>.</p>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div class="sphinx-toc sphinxglobaltoc">
<h3><a href="index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quick.html">Quick Reference</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Manual</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#good-to-know">Good to know</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#corpus-structure">Corpus structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#keys-and-ids">Keys and IDs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ids">IDs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#label-types">Label types</a></li>
<li class="toctree-l3"><a class="reference internal" href="#measure-counts-mc-vs-measure-numbers-mn">Measure counts (MC) vs. measure numbers (MN)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#onset-positions">Onset positions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#read-only-mode">Read-only mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stacks-of-fifths-intervals">Stacks-of-fifths intervals</a></li>
<li class="toctree-l3"><a class="reference internal" href="#voltas">Voltas</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tables-with-score-information">Tables with score information</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#measures">Measures</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notes">Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rests">Rests</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notes-and-rests">Notes and Rests</a></li>
<li class="toctree-l3"><a class="reference internal" href="#chords">Chords</a></li>
<li class="toctree-l3"><a class="reference internal" href="#labels">Labels</a></li>
<li class="toctree-l3"><a class="reference internal" href="#expanded">Expanded</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cadences">Cadences</a></li>
<li class="toctree-l3"><a class="reference internal" href="#events">Events</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#parsing">Parsing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#parsing-a-single-score">Parsing a single score</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parsing-multiple-scores">Parsing multiple scores</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#extracting-score-information">Extracting score information</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#using-the-commandline">Using the commandline</a></li>
<li class="toctree-l3"><a class="reference internal" href="#extracting-score-information-manually">Extracting score information manually</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#column-names">Column Names</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#general-columns">General Columns</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id15">Measures</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id16">Notes and Rests</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id17">Chords</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id18">Labels</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id19">Expanded</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">Developers' Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>
</div>
  <div class="sphinxprev">
    <h4>Previous page</h4>
    <p class="topless"><a href="quick.html"
                          title="Previous page">&larr; Quick Reference</a></p>
  </div>
  <div class="sphinxnext">
    <h4>Next page</h4>
    <p class="topless"><a href="reference.html"
                          title="Next page">&rarr; Developers’ Reference</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/manual.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 «
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 »
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="reference.html" title="Developers’ Reference"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="quick.html" title="Quick Reference"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="index.html">ms3 0.4.11 documentation</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Manual</a></li> 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, johentsch.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.0.2.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>